# Name: mka_ical v0.7.0
# Display events from an ical file (Google Calendar, etc.)
# Author: Martin Kozianka + jcr
# URL: http://github.com/jools-r/mka_ical
# Recommended load order: 5
# .....................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the "Install plugin" box:
# .....................................................................

YToxNDp7czo0OiJuYW1lIjtzOjg6Im1rYV9pY2FsIjtzOjc6InZlcnNpb24iO3M6NToiMC43
LjAiO3M6NjoiYXV0aG9yIjtzOjIxOiJNYXJ0aW4gS296aWFua2EgKyBqY3IiO3M6MTA6ImF1
dGhvcl91cmkiO3M6MzQ6Imh0dHA6Ly9naXRodWIuY29tL2pvb2xzLXIvbWthX2ljYWwiO3M6
MTE6ImRlc2NyaXB0aW9uIjtzOjU2OiJEaXNwbGF5IGV2ZW50cyBmcm9tIGFuIGljYWwgZmls
ZSAoR29vZ2xlIENhbGVuZGFyLCBldGMuKSI7czo0OiJoZWxwIjtzOjA6IiI7czo0OiJjb2Rl
IjtzOjc0NjA1OiIKCi8vIFRYUCA0LjYrIHRhZyByZWdpc3RyYXRpb24KaWYgKGNsYXNzX2V4
aXN0cygnXFRleHRwYXR0ZXJuXFRhZ1xSZWdpc3RyeScpKSB7CiAgICBUeHA6OmdldCgnXFRl
eHRwYXR0ZXJuXFRhZ1xSZWdpc3RyeScpCiAgICAgICAgLT5yZWdpc3RlcignbWthX2ljYWwn
KQogICAgICAgIC0+cmVnaXN0ZXIoJ21rYV9mb3JtYXRfZGF0ZScpCiAgICAgICAgLT5yZWdp
c3RlcignbWthX2lmX2ZpcnN0X2V2ZW50JykKICAgICAgICAtPnJlZ2lzdGVyKCdta2FfaWZf
bGFzdF9ldmVudCcpCiAgICAgICAgLT5yZWdpc3RlcignbWthX2lmX2RpZmZlcmVudCcpCiAg
ICA7Cn0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gbWthX2ljYWwoJGF0dHMsICR0aGluZyA9ICcn
KQp7CiAgICBnbG9iYWwgJG1rYV90aGlzX2ljYWxfZXZlbnQ7CgogICAgZXh0cmFjdChsQXR0
cyhhcnJheSgKICAgICAgICAndXJsJyA9PiAnJywKICAgICAgICAnY2FjaGluZ3RpbWUnID0+
IDMwLAogICAgICAgICdnb29nbGVtYWlsJyA9PiAnJywKICAgICAgICAnZ29vZ2xlbWFpbGRv
bWFpbicgPT4gJ2dvb2dsZW1haWwnLAogICAgICAgICdsaW1pdCcgPT4gMCwKICAgICAgICAn
cGFzdGV2ZW50cycgPT4gZmFsc2UsCiAgICAgICAgJ2ZtdHRpbWUnID0+ICclSDolTScsCiAg
ICAgICAgJ2ZtdGRhdGUnID0+ICclZC4lbS4lWScsCiAgICAgICAgJ2ltZ2ZvbGRlcicgPT4g
JycsCiAgICAgICAgJ2ltZ2NhdCcgPT4gJycsCiAgICAgICAgJ2RlZmF1bHRpbWFnZScgPT4g
J25vbmUuZ2lmJywKICAgICAgICAnYnJlYWsnID0+ICdsaScsCiAgICAgICAgJ2NsYXNzJyA9
PiBfX0ZVTkNUSU9OX18sCiAgICAgICAgJ2Nzc2lkJyA9PiAnaWNhbGV2ZW50cycsCiAgICAg
ICAgJ2h0bWxfaWQnID0+ICdpY2FsZXZlbnRzJywKICAgICAgICAnd3JhcHRhZycgPT4gJ3Vs
JywKICAgICAgICAnZm9ybScgPT4gJycKICAgICksICRhdHRzLCBmYWxzZSkpOwoKICAgIC8v
IENhdGVyIGZvciBsZWdhY3kgY3NzaWQgLT4gaHRtbF9pZAogICAgLy8gaWYgY3NzaWQgaXMg
c3BlY2lmaWVkIGFuZCBub3QgZGVmYXVsdCB2YWx1ZSwgdXBkYXRlIGh0bWxfaWQKICAgIGlm
ICgkY3NzaWQgIT0gJGh0bWxfaWQpIHsKICAgICAgICAkaHRtbF9pZCA9ICRjc3NpZDsKICAg
IH0KCiAgICBpZiAoc3RybGVuKCR0aGluZykgPiAwKSB7CiAgICAgICAgLy8gVXNlIGNvbnRh
aW5lZCBjb2RlCiAgICAgICAgJGJvZHkgPSAkdGhpbmc7CiAgICB9IGVsc2VpZiAoIWVtcHR5
KCRmb3JtKSkgewogICAgICAgIC8vIE9SOiBHZXQgZm9ybSBpZiBzcGVjaWZpZWQKICAgICAg
ICAkYm9keSA9IGZldGNoX2Zvcm0oJGZvcm0pOwogICAgfSBlbHNlIHsKICAgICAgICAvLyBF
TFNFOiBEZWZhdWx0IG91dHB1dAogICAgICAgICRib2R5ID0gICc8c3BhbiBjbGFzcz0iZGF0
ZSI+e2RhdGV9PC9zcGFuPicKICAgICAgICAgICAgICAgIC4nPHNwYW4gY2xhc3M9InRpdGxl
Ij57dGl0bGV9PC9zcGFuPicKICAgICAgICAgICAgICAgIC4nPHNwYW4gY2xhc3M9ImRlc2Ny
aXB0aW9uIj57ZGVzY3JpcHRpb259PC9zcGFuPic7CiAgICB9CgogICAgLy8gR2V0IHVybCBm
cm9tIGdvb2dsZW1haWwtYWRkcmVzcwogICAgaWYgKHN0cmxlbigkZ29vZ2xlbWFpbCkgPiAw
KSB7CiAgICAgICAgJHRtcCA9IGV4cGxvZGUoIkAiLCAkZ29vZ2xlbWFpbCk7CiAgICAgICAg
aWYgKGNvdW50KCR0bXAgPiAxKSkgewogICAgICAgICAgICAvLyBGdWxsIGVtYWlsIGFkZHJl
c3M6IGp1c3QgZW5jb2RlICdAJyB0byAnJTQwJwogICAgICAgICAgICAkZ21haWwgPSByYXd1
cmxlbmNvZGUoJGdvb2dsZW1haWwpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8v
IEp1c3QgdXNlcm5hbWU6IGNvbnN0cnVjdCBlbWFpbCB1c2luZyBhdHRyaWJ1dGUgImdvb2ds
ZW1haWxkb21haW4iIChlLmcuIGdvb2dsZW1haWwgLyBnbWFpbCkKICAgICAgICAgICAgJGdt
YWlsID0gJHRtcFswXS4iJTQwIi4kZ29vZ2xlbWFpbGRvbWFpbi4iLmNvbSI7CiAgICAgICAg
fQovLyAgICAgICR1cmxzW10gPSAiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9jYWxlbmRhci9p
Y2FsLyIuJGdtYWlsLiIvcHVibGljL2Jhc2ljLmljcyI7CiAgICAgICAgJHVybHNbXSA9ICJo
dHRwczovL2NhbGVuZGFyLmdvb2dsZS5jb20vY2FsZW5kYXIvaWNhbC8iLiRnbWFpbC4iL3B1
YmxpYy9iYXNpYy5pY3MiOwogICAgfQoKICAgIC8vIEFkZCBnaXZlbiB1cmxzIGZyb20gYXR0
cmlidXRlIHVybAogICAgaWYgKHN0cmxlbigkdXJsKSA+IDApIHsKICAgICAgICBmb3JlYWNo
IChleHBsb2RlKCIsIiwgJHVybCkgYXMgJHUpIHsKICAgICAgICAgICAgJHVybHNbXSA9IHRy
aW0oJHUpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyBObyB1cmwgLS0+IG5vdGhpbmcgdG8g
c2hvdyAtLT4gZXJyb3IgbWVzc2FnZS4KICAgIGlmIChzaXplb2YoJHVybHMpID09PSAwKSB7
CiAgICAgICAgcmV0dXJuICJta2FfaWNhbCBFcnJvcjogTm8gdXJsIHNwZWNpZmllZC4iOwog
ICAgfQoKICAgIC8vIEdldCBpbWFnZXMgZnJvbSBmb2xkZXIgYW5kL29yIGNhdGVnb3J5CiAg
ICAkc2hvd19pbWcgPSBmYWxzZTsKICAgIGlmICgoc3RybGVuKCRpbWdjYXQpID4gMCkgfHwg
KHN0cmxlbigkaW1nZm9sZGVyKSA+IDApKSB7CiAgICAgICAgJGltYWdlcyA9IGFycmF5KCk7
CgogICAgICAgIC8vIEFkZCBpbWFnZXMgZnJvbSBnaXZlbiBjYXRlZ29yaWVzCiAgICAgICAg
aWYgKHN0cmxlbigkaW1nY2F0KSA+IDApIHsKICAgICAgICAgICAgJGltYWdlcyA9IG1rYV9p
bWdhcnJheWZyb21jYXQoJGltZ2NhdCk7CiAgICAgICAgfQoKICAgICAgICAvLyBBZGQgaW1h
Z2VzIGZyb20gZ2l2ZW4gZm9sZGVyCiAgICAgICAgaWYgKGZpbGVfZXhpc3RzKCRpbWdmb2xk
ZXIpKSB7CiAgICAgICAgICAgICRpbWFnZXMgPSBhcnJheV9tZXJnZShta2FfaW1nYXJyYXlm
cm9tZm9sZGVyKCRpbWdmb2xkZXIpKTsKICAgICAgICB9CgogICAgICAgIGlmIChzaXplb2Yo
JGltYWdlcykgPiAwKSB7CiAgICAgICAgICAgICRzaG93X2ltZyA9IHRydWU7CgogICAgICAg
ICAgICAvLyBHZXQgZGVmYXVsdCBpbWFnZQogICAgICAgICAgICAkZGVmaW1nID0gaWNhbF9k
ZWZpbWcoJGRlZmF1bHRpbWFnZSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vIEdldCBldmVu
dHMgZnJvbSBjYWNoZQogICAgJGV2ZW50cyA9IGNoZWNrQ2FjaGUoJHVybHMsICRjYWNoaW5n
dGltZSk7CgogICAgLy8gU3RhcnQgY291bnRlcgogICAgJGNvdW50ID0gMDsKICAgIC8vIEdl
dCB1aWQgb2YgbGFzdCBpdGVtCiAgICAkbGFzdF9ldmVudCA9IGVuZCgkZXZlbnRzKS0+dWlk
OwoKICAgIC8vIExvb3AgdGhyb3VnaCBldmVudHMKICAgIGZvcmVhY2ggKCRldmVudHMgYXMg
JGV2dCkgewoKICAgICAgICAvLyBUT0RPIDo6IHJlY3VycmVuY2UgYXVzd2VydGVuCgogICAg
ICAgIC8vIElzIGV2ZW50IGluIGZ1dHVyZSBvciBvbmdvaW5nPwogICAgICAgIC8vIGlmICgo
JGV2dC0+Z2V0RW5kKCkgPiB0aW1lKCkpICYmICgkbGltaXQgPT0gMCAgfHwgJGNvdW50IDwg
JGxpbWl0ICkpCiAgICAgICAgaWYgKCgkcGFzdGV2ZW50cyB8fCAkZXZ0LT5lbmQgPiB0aW1l
KCkpICYmICgkbGltaXQgPT0gMCB8fCAkY291bnQgPCAkbGltaXQpKSB7CgogICAgICAgICAg
ICAvLyBBZHZhbmNlIGNvdW50ZXIKICAgICAgICAgICAgKyskY291bnQ7CgogICAgICAgICAg
ICAvLyBGaXJzdCBldmVudAogICAgICAgICAgICAkbWthX3RoaXNfaWNhbF9ldmVudFsnaXNf
Zmlyc3QnXSA9ICgkY291bnQgPT0gJzEnKTsKCiAgICAgICAgICAgIC8vIExhc3QgZXZlbnQg
aW4gYXJyYXkgb3IgbGFzdCBpbiBsaW1pdAogICAgICAgICAgICBpZiAoKCRldnQtPnVpZCA9
PSAkbGFzdF9ldmVudCkgfHwgKCRjb3VudCA9PSAkbGltaXQpKSB7CiAgICAgICAgICAgICAg
ICAkbWthX3RoaXNfaWNhbF9ldmVudFsnaXNfbGFzdCddID0gdHJ1ZTsKICAgICAgICAgICAg
fQoKICAgICAgICAgICAgLy8gVE9ETyA6OiBUZXh0aWxlUmVzdHJpY3RlZCgkdGV4dCwgJGxp
dGUgPSAxLCAkbm9pbWFnZSA9IDEsICRyZWwgPSAnbm9mb2xsb3cnKQogICAgICAgICAgICAk
ZXZ0LT5zdW0gPSBpY2FsX2Zvcm1hdFRleHQoJGV2dC0+c3VtKTsKICAgICAgICAgICAgJGV2
dC0+ZGVzID0gaWNhbF9mb3JtYXRUZXh0KCRldnQtPmRlcyk7CiAgICAgICAgICAgICRldnQt
PmxvYyA9IGljYWxfZm9ybWF0VGV4dCgkZXZ0LT5sb2MpOwoKICAgICAgICAgICAgJGRhdGVW
aWV3ICA9IGljYWxfZ2V0RGF0ZVZpZXcoJGV2dCwgJGZtdGRhdGUsICRmbXR0aW1lKTsKICAg
ICAgICAgICAgJHN0YXJ0RGF0ZXRpbWUgPSBpY2FsX2dldERhdGVUaW1lKCRldnQsICIlWS0l
bS0lZCAlSDolTSIsIDApOyAvLyBkYXRldGltZSBmb3JtYXQKICAgICAgICAgICAgJHN0YXJ0
RGF0ZSA9IGljYWxfZ2V0RGF0ZVRpbWUoJGV2dCwgJGZtdGRhdGUsIDApOwogICAgICAgICAg
ICAkc3RhcnRUaW1lID0gaWNhbF9nZXREYXRlVGltZSgkZXZ0LCAkZm10dGltZSwgMCk7CiAg
ICAgICAgICAgICRlbmREYXRldGltZSA9IGljYWxfZ2V0RGF0ZVRpbWUoJGV2dCwgIiVZLSVt
LSVkICVIOiVNIiwgMCk7IC8vIGRhdGV0aW1lIGZvcm1hdAogICAgICAgICAgICAkZW5kRGF0
ZSAgID0gaWNhbF9nZXREYXRlVGltZSgkZXZ0LCAkZm10ZGF0ZSwgMSk7CiAgICAgICAgICAg
ICRlbmRUaW1lICAgPSBpY2FsX2dldERhdGVUaW1lKCRldnQsICRmbXR0aW1lLCAxKTsKICAg
ICAgICAgICAgJGR1cmF0aW9uICA9IGdtZGF0ZSgiejpIOmk6cyIsICRldnQtPmR1cmF0aW9u
KTsgLy8gY29udmVydCBzZWNvbmRzIHRvIGRheXM6aG91cnM6bWludXRlczpzZWNvbmRzCgog
ICAgICAgICAgICAka2V5cyA9IGFycmF5KCk7CiAgICAgICAgICAgICR2YWxzID0gYXJyYXko
KTsKICAgICAgICAgICAgaWYgKCRzaG93X2ltZykgewogICAgICAgICAgICAgICAgJGltYWdl
ID0gaWNhbF9pbWcoJGV2dC0+c3VtLCAkaW1hZ2VzLCAkZGVmaW1nKTsKICAgICAgICAgICAg
ICAgICRrZXlzW10gPSAne2ltYWdlc3JjfSc7CiAgICAgICAgICAgICAgICAkdmFsc1tdID0g
JGltYWdlWydzcmMnXTsKICAgICAgICAgICAgICAgICRrZXlzW10gPSAne2ltYWdlaWR9JzsK
ICAgICAgICAgICAgICAgICR2YWxzW10gPSAkaW1hZ2VbJ2lkJ107CiAgICAgICAgICAgIH0K
ICAgICAgICAgICAgJGtleXNbXSA9ICd7ZGF0ZX0nOwogICAgICAgICAgICAkdmFsc1tdID0g
JGRhdGVWaWV3OwogICAgICAgICAgICAka2V5c1tdID0gJ3tzdGFydF9kYXRldGltZX0nOwog
ICAgICAgICAgICAkdmFsc1tdID0gJHN0YXJ0RGF0ZXRpbWU7CiAgICAgICAgICAgICRrZXlz
W10gPSAne3N0YXJ0X2RhdGV9JzsKICAgICAgICAgICAgJHZhbHNbXSA9ICRzdGFydERhdGU7
CiAgICAgICAgICAgICRrZXlzW10gPSAne3N0YXJ0X3RpbWV9JzsKICAgICAgICAgICAgJHZh
bHNbXSA9ICRzdGFydFRpbWU7CiAgICAgICAgICAgICRrZXlzW10gPSAne2VuZF9kYXRldGlt
ZX0nOwogICAgICAgICAgICAkdmFsc1tdID0gJGVuZERhdGV0aW1lOwogICAgICAgICAgICAk
a2V5c1tdID0gJ3tlbmRfZGF0ZX0nOwogICAgICAgICAgICAkdmFsc1tdID0gJGVuZERhdGU7
CiAgICAgICAgICAgICRrZXlzW10gPSAne2VuZF90aW1lfSc7CiAgICAgICAgICAgICR2YWxz
W10gPSAkZW5kVGltZTsKICAgICAgICAgICAgJGtleXNbXSA9ICd7ZHVyYXRpb259JzsKICAg
ICAgICAgICAgJHZhbHNbXSA9ICRkdXJhdGlvbjsKICAgICAgICAgICAgJGtleXNbXSA9ICd7
dGl0bGV9JzsKICAgICAgICAgICAgJHZhbHNbXSA9ICRldnQtPnN1bTsKICAgICAgICAgICAg
JGtleXNbXSA9ICd7ZGVzY3JpcHRpb259JzsKICAgICAgICAgICAgJHZhbHNbXSA9ICRldnQt
PmRlczsKICAgICAgICAgICAgJGtleXNbXSA9ICd7bG9jYXRpb259JzsKICAgICAgICAgICAg
JHZhbHNbXSA9ICRldnQtPmxvYzsKICAgICAgICAgICAgJGtleXNbXSA9ICd7dWlkfSc7CiAg
ICAgICAgICAgICR2YWxzW10gPSAkZXZ0LT51aWQ7CgogICAgICAgICAgICAkb3V0W10gPSBw
YXJzZShzdHJfcmVwbGFjZSgka2V5cywgJHZhbHMsICRib2R5KSk7CiAgICAgICAgfQoKICAg
IH0KCiAgICByZXR1cm4gZG9XcmFwKCRvdXQsICR3cmFwdGFnLCAkYnJlYWssICRjbGFzcywg
JycsICcnLCAnJywgJGh0bWxfaWQpOwp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovKiBTaW1wbGUgZGF0ZSBy
ZWZvcm1hdHRlciAqLwovKiBVc2Ugd2l0aCB7c3RhcnRfZGF0ZXRpbWV9IGFuZCB7ZW5kX2Rh
dGV0aW1lfSAqLwovKiBkYXRlIGZvcm1hdHMgYXMgcGVyIGh0dHA6Ly9waHAubmV0L21hbnVh
bC9lbi9mdW5jdGlvbi5zdHJmdGltZS5waHAgKi8KCmZ1bmN0aW9uIG1rYV9mb3JtYXRfZGF0
ZSgkYXR0cywgJHRoaW5nID0gJycpCnsKICAgIGV4dHJhY3QobEF0dHMoYXJyYXkoCiAgICAg
ICAgJ2Zvcm1hdCcgPT4gJycKICAgICksICRhdHRzLCBmYWxzZSkpOwoKICAgIGlmICgkZm9y
bWF0ID09PSAnJykgewogICAgICAgIHJldHVybiAkdGhpbmc7CiAgICB9IGVsc2UgewogICAg
ICAgIHJldHVybiBzdHJmdGltZSgkZm9ybWF0LCBzdHJ0b3RpbWUoJHRoaW5nKSk7CiAgICB9
Cn0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gbWthX2lmX2ZpcnN0X2V2ZW50KCRhdHRzLCAkdGhp
bmcgPSBudWxsKQp7CiAgICBnbG9iYWwgJG1rYV90aGlzX2ljYWxfZXZlbnQ7CiAgICAkeCA9
ICFlbXB0eSgkbWthX3RoaXNfaWNhbF9ldmVudFsnaXNfZmlyc3QnXSk7CiAgICByZXR1cm4g
aXNzZXQoJHRoaW5nKSA/IHBhcnNlKCR0aGluZywgJHgpIDogJHg7Cn0KCi8vIC0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0K
ZnVuY3Rpb24gbWthX2lmX2xhc3RfZXZlbnQoJGF0dHMsICR0aGluZyA9IG51bGwpCnsKICAg
IGdsb2JhbCAkbWthX3RoaXNfaWNhbF9ldmVudDsKICAgICR4ID0gIWVtcHR5KCRta2FfdGhp
c19pY2FsX2V2ZW50Wydpc19sYXN0J10pOwogICAgcmV0dXJuIGlzc2V0KCR0aGluZykgPyBw
YXJzZSgkdGhpbmcsICR4KSA6ICR4Owp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIG1rYV9pZl9k
aWZmZXJlbnQoJGF0dHMsICR0aGluZykKewogICAgc3RhdGljICRsYXN0ID0gYXJyYXkoKTsK
CiAgICBleHRyYWN0KGxBdHRzKGFycmF5KCdrZXknID0+IG1kNSgkdGhpbmcpKSwgJGF0dHMp
KTsKICAgICRvdXQgPSBwYXJzZSgkdGhpbmcsIDEpOwoKICAgIGlmIChlbXB0eSgkbGFzdFsk
a2V5XSkgfHwgJG91dCAhPSAkbGFzdFska2V5XSkgewogICAgICAgIHJldHVybiAkbGFzdFsk
a2V5XSA9ICRvdXQ7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBwYXJzZSgkdGhpbmcs
IDApOwogICAgfQp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGljYWxfaW1nKCR0aXRsZSwgJGlt
YWdlcywgJGRlZmltZykKewogICAgJHNlYXJjaCA9IGFycmF5KCIgIiwgIi4iLCAiLSIpOwog
ICAgJHJlcCA9IGFycmF5KCIiLCAiIiwgIiIpOwogICAgJHQgPSBzdHJfcmVwbGFjZSgkc2Vh
cmNoLCAkcmVwLCBzdHJ0b2xvd2VyKCR0aXRsZSkpOwogICAgZm9yZWFjaCAoJGltYWdlcyBh
cyAkaW0pIHsKICAgICAgICBpZiAoc3RycG9zKCR0LCAkaW1bJ25hbWUnXSkgIT09IGZhbHNl
KSB7CiAgICAgICAgICAgIHJldHVybiAkaW07CiAgICAgICAgfQogICAgfQogICAgLy8gcmV0
dXJuIGRlZmF1bHQgaW1hZ2Ugc3JjCiAgICByZXR1cm4gJGRlZmltZzsKfQoKLy8gLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LQpmdW5jdGlvbiBpY2FsX2dldERhdGVWaWV3KCRldnQsICRmbXRfZGF0ZSwgJGZtdF90aW1l
KQp7CiAgICAkZGF0ZV9zZXBhcmF0b3IgPSAiIOKAkyAiOwoKICAgICRmbXRfZGF0aSA9ICRm
bXRfZGF0ZS4iICIuJGZtdF90aW1lOwogICAgLy8gZXZlbnQgb24gb25lIGRheQogICAgaWYg
KGRhdGUoImRtWSIsICRldnQtPnN0YXJ0KSA9PSBkYXRlKCJkbVkiLCAkZXZ0LT5lbmQtMSkp
IHsKICAgICAgICAvLyBubyBleGFjdCB0aW1lIGRlZmluaXRpb24KICAgICAgICBpZiAoZGF0
ZSgiSDppIiwgJGV2dC0+c3RhcnQpID09ICIwMDowMCIgJiYgZGF0ZSgiSDppIiwgJGV2dC0+
ZW5kKSA9PSAiMDA6MDAiKSB7CiAgICAgICAgICAgICRkYXRlVmlldyA9IHN0cmZ0aW1lKCRm
bXRfZGF0ZSwgJGV2dC0+c3RhcnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRk
YXRlVmlldyA9IHN0cmZ0aW1lKCRmbXRfZGF0aSwgJGV2dC0+c3RhcnQpLiRkYXRlX3NlcGFy
YXRvci5zdHJmdGltZSgkZm10X3RpbWUsICRldnQtPnN0YXJ0ICsgJGV2dC0+ZHVyYXRpb24p
OwogICAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgICAgJGRhdGVWaWV3ICA9IHN0cmZ0aW1l
KCRmbXRfZGF0ZSwgJGV2dC0+c3RhcnQpLiRkYXRlX3NlcGFyYXRvci5zdHJmdGltZSgkZm10
X2RhdGUsICRldnQtPmVuZC0xKTsKICAgIH0KICAgIHJldHVybiAkZGF0ZVZpZXc7Cn0KCi8v
IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0KZnVuY3Rpb24gaWNhbF9nZXREYXRlVGltZSgkZXZ0LCAkZm9ybWF0dGVyLCAk
ZW5kKQp7CiAgICAkZGF0ZVZpZXcgPSAoJGVuZCA9PSAxKSA/IHN0cmZ0aW1lKCRmb3JtYXR0
ZXIsICRldnQtPmVuZCkgOiBzdHJmdGltZSgkZm9ybWF0dGVyLCAkZXZ0LT5zdGFydCk7CiAg
ICByZXR1cm4gJGRhdGVWaWV3Owp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIG1rYV9tYWtlYXJy
X3NxbCgkc3RyLCAkdHlwZT0nc3RyaW5nJywgJGRlbGltZXRlciA9JywnKQp7CiAgICAkcmV0
ID0gYXJyYXkoKTsKICAgICRhcnIgPSBleHBsb2RlKCRkZWxpbWV0ZXIsICRzdHIpOwogICAg
Zm9yZWFjaCAoJGFyciBhcyAkZWwpIHsKICAgICAgICBpZiAoJHR5cGUgPT0gJ3N0cmluZycp
IHsKICAgICAgICAgICAgJHJldFtdID0gIiciLnRyaW0oJGVsKS4iJyI7CiAgICAgICAgfSBl
bHNlIHsKICAgICAgICAgICAgJHJldFtdID0gJGVsOwogICAgICAgIH0KICAgIH0KICAgIHJl
dHVybiAkcmV0Owp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIG1rYV9pbWdhcnJheWZyb21jYXQo
JGNhdHMpCnsKICAgICRpbWdzID0gYXJyYXkoKTsKCiAgICAkY2F0cyA9IG1rYV9tYWtlYXJy
X3NxbCgkY2F0cyk7CiAgICAkY2xhdXNlID0gJ2NhdGVnb3J5IElOICgnLmltcGxvZGUoIiwi
LCAkY2F0cykuJyknOwogICAgJGF0dHJzID0gJ2lkLCBuYW1lLCBleHQnOwogICAgJHJzID0g
c2FmZV9yb3dzKCRhdHRycywgJ3R4cF9pbWFnZScsICRjbGF1c2UpOwoKICAgICRwcmVmaXgg
PSAiaHR0cDovLyIuJEdMT0JBTFNbJ3ByZWZzJ11bInNpdGV1cmwiXS4iLyIuJEdMT0JBTFNb
J3ByZWZzJ11bJ2ltZ19kaXInXS4iLyI7CgogICAgaWYgKGNvdW50KCRycykgIT0gMCkgewog
ICAgICAgIGZvcmVhY2ggKCRycyBhcyAkY29sKSB7CiAgICAgICAgICAgICRjb2xbJ3NyYydd
ID0gJHByZWZpeC4kY29sWydpZCddLiRjb2xbJ2V4dCddOwogICAgICAgICAgICAkaW1nc1td
ID0gJGNvbDsKICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gJGltZ3M7Cn0KCi8vIC0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0KZnVuY3Rpb24gbWthX2ltZ2FycmF5ZnJvbWZvbGRlcigkaW1nZm9sZGVyKQp7CiAgICAk
aW1ncyA9IGFycmF5KCk7CiAgICBpZiAoJGhhbmRsZSA9IEBvcGVuZGlyKCRpbWdmb2xkZXIp
KSB7CiAgICAgICAgd2hpbGUgKCgkZmlsZSA9IEByZWFkZGlyKCRoYW5kbGUpKSAhPT0gZmFs
c2UpIHsKICAgICAgICAgICAgJGltZyA9IGFycmF5KCk7CiAgICAgICAgICAgICRwYXJ0cyA9
IGV4cGxvZGUoIi4iLCAkZmlsZSk7CiAgICAgICAgICAgICRpbWdbJ2V4dCddICA9IChjb3Vu
dCgkcGFydHMpID4gMSkgPyAiLiIuYXJyYXlfcG9wKCRwYXJ0cykgOiAnJzsKICAgICAgICAg
ICAgJGltZ1snbmFtZSddID0gaW1wbG9kZSgiLiIsICRwYXJ0cyk7CiAgICAgICAgICAgICRp
bWdbJ3NyYyddID0gImh0dHA6Ly8iLiRHTE9CQUxTWydwcmVmcyddWyJzaXRldXJsIl0uIi8i
LiRpbWdmb2xkZXIuIi8iLiRmaWxlOwogICAgICAgICAgICBpZiAoc3RybGVuKCRpbWdbJ25h
bWUnXSkgPiAwICYmIGluX2FycmF5KHN0cnRvbG93ZXIoJGltZ1snZXh0J10pLCBhcnJheSgi
LnBuZyIsICIuanBnIiwgIi5qcGVnIiwgIi5naWYiKSkpIHsKICAgICAgICAgICAgICAgICRp
bWdzW10gPSAkaW1nOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNsb3NlZGly
KCRoYW5kbGUpOwogICAgfQogICAgcmV0dXJuICRpbWdzOwp9CgovLyAtLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0
aW9uIGljYWxfZGVmaW1nKCRkZWZpbWcpCnsKICAgICR1cmwgPSAiaHR0cDovLyIuJEdMT0JB
TFNbJ3ByZWZzJ11bInNpdGV1cmwiXS4iLyI7CiAgICAkaW1nID0gYXJyYXkoKTsKICAgIC8v
IElzIGRlZmltZyBpZD8KICAgIGlmIChpbnR2YWwoJGRlZmltZykgIT09IDApIHsKICAgICAg
ICAkaWQgPSBpbnR2YWwoJGRlZmltZyk7CiAgICAgICAgJGltZyA9IHNhZmVfcm93KCdpZCwg
bmFtZSwgZXh0JywgJ3R4cF9pbWFnZScsICdpZCA9ICcuJGlkKTsKICAgIH0KCiAgICAvLyBJ
bWFnZSB3aXRoIGlkIG5vdCBmb3VuZD8KICAgIGlmIChzaXplb2YoJGltZykgPT09IDApIHsK
ICAgICAgICAkcGFydHMgPSBleHBsb2RlKCIuIiwgYmFzZW5hbWUoJGRlZmltZykpOwogICAg
ICAgICRpbWdbJ2V4dCddICA9IChjb3VudCgkcGFydHMpID4gMSkgPyAiLiIuYXJyYXlfcG9w
KCRwYXJ0cykgOiAnJzsKICAgICAgICAkaW1nWyduYW1lJ10gPSBpbXBsb2RlKCIuIiwgJHBh
cnRzKTsKICAgICAgICAkaW1nWydzcmMnXSA9ICR1cmwuJGRlZmltZzsKICAgIH0gZWxzZSB7
CiAgICAgICAgJGltZ1sic3JjIl0gPSAkdXJsLiRHTE9CQUxTWydwcmVmcyddWydpbWdfZGly
J10uIi8iLiRpbWdbJ2lkJ10uJGltZ1snZXh0J107CiAgICB9CiAgICByZXR1cm4gJGltZzsK
fQoKLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLQpmdW5jdGlvbiBpY2FsX3Nob3J0ZW5fbGluaygkc3RyaW5nKQp7CiAg
ICAkdGV4dF93b3JkX21heGxlbmd0aCA9IDU1OwogICAgaWYgKGNvdW50KCRzdHJpbmcpID09
IDIpIHsKICAgICAgICAkcHJlID0gIiI7CiAgICAgICAgJHVybCA9ICRzdHJpbmdbMV07CiAg
ICB9IGVsc2UgewogICAgICAgICRwcmUgPSAkc3RyaW5nWzFdOwogICAgICAgICR1cmwgPSAk
c3RyaW5nWzJdOwogICAgfQogICAgJHNob3J0ZW5lZF91cmwgPSAkdXJsOwogICAgaWYgKHN0
cmxlbigkdXJsKSA+ICR0ZXh0X3dvcmRfbWF4bGVuZ3RoKSB7CiAgICAgICAgJHNob3J0ZW5l
ZF91cmwgPSBzdWJzdHIoJHVybCwgMCwgKCR0ZXh0X3dvcmRfbWF4bGVuZ3RoLzIpKSAuICLi
gKYiIC4gc3Vic3RyKCR1cmwsIC0gKCR0ZXh0X3dvcmRfbWF4bGVuZ3RoLTMtJHRleHRfd29y
ZF9tYXhsZW5ndGgvMikpOwogICAgfQogICAgcmV0dXJuICRwcmUuIjxhIGhyZWY9XCIiLiR1
cmwuIlwiPiIuJHNob3J0ZW5lZF91cmwuIjwvYT4iOwp9CgovLyAtLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9u
IGljYWxfZm9ybWF0VGV4dCgkc3RyaW5nKQp7CiAgICAkc3RyaW5nID0gJyAnIC4gJHN0cmlu
ZzsKICAgICRzdHJpbmcgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soIiMoXnxbXG4gXSkoW1x3
XSs/Oi8vLio/W14gXCJcblxyXHQ8XSopI2lzIiwgImljYWxfc2hvcnRlbl9saW5rIiwgJHN0
cmluZyk7CiAgICAkc3RyaW5nID0gcHJlZ19yZXBsYWNlKCIjKF58W1xuIF0pKCh3d3d8ZnRw
KVwuW1x3XC1dK1wuW1x3XC0uXH5dKyg/Oi9bXiBcIlx0XG5ccjxdKik/KSNpcyIsICIkMTxh
IGhyZWY9XCJodHRwOi8vJDJcIj4kMjwvYT4iLCAkc3RyaW5nKTsKICAgICRzdHJpbmcgPSBz
dHJfcmVwbGFjZSgiXG4iLCAiPGJyLz4iLCAkc3RyaW5nKTsKICAgIHJldHVybiAkc3RyaW5n
Owp9CgoKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gY2hlY2tDYWNoZSgkdXJscywgJGNhY2hpbmd0
aW1lKQp7CiAgICAkaGFzaCA9IG1kNShpbXBsb2RlKCIsIiwgJHVybHMpKTsKCS8vIFVzZSBj
YWNoZWQganNvbiBmaWxlIGluIHRlbXAgZGlyZWN0b3J5CiAgICAkZm4gPSAkR0xPQkFMU1sn
cHJlZnMnXVsidGVtcGRpciJdLiAiL21rYV9pY2FsXyIuJGhhc2guIi5qc29uIjsKCiAgICBp
ZiAoZmlsZV9leGlzdHMoJGZuKSAmJiAodGltZSgpLWZpbGVtdGltZSgkZm4pIDwgKCRjYWNo
aW5ndGltZSo2MCkpKSB7CiAgICAgICAgLy8gRXZlbnRzdHJpbmcgZnJvbSBjYWNoZSBmaWxl
CiAgICAgICAgJGNhY2hlX2ZpbGUgPSBmb3BlbigkZm4sICJyIik7CiAgICAgICAgJGRhdGEg
PSBmcmVhZCgkY2FjaGVfZmlsZSwgZmlsZXNpemUoJGZuKSk7CiAgICAgICAgZmNsb3NlKCRj
YWNoZV9maWxlKTsKICAgICAgICByZXR1cm4ganNvbl9kZWNvZGUoJGRhdGEpOwogICAgfSBl
bHNlIHsKICAgICAgICAvLyBHZW5lcmF0ZSBuZXcgZXZlbnRzdHJpbmcKICAgICAgICAkZXZl
bnRzID0gZ2V0RXZlbnRzKCR1cmxzKTsKCiAgICAgICAgJGNmID0gZm9wZW4oJGZuLCAidysi
KTsKICAgICAgICBmd3JpdGUoJGNmLCBqc29uX2VuY29kZSgkZXZlbnRzKSk7CiAgICAgICAg
ZmNsb3NlKCRjZik7CgogICAgICAgIHJldHVybiAkZXZlbnRzOwogICAgfQp9CgovLyAtLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tCmZ1bmN0aW9uIGdldEV2ZW50cygkdXJscykKewogICAgJGV2ZW50cyA9IGFycmF5KCk7
CgogICAgLy8gSW5zdGFudGlhdGUgSUNhbCgpIGxpYnJhcnkKICAgICRyZWFkZXIgPSBuZXcg
SUNhbCgpOwoKICAgIGZvcmVhY2ggKCR1cmxzIGFzICR1KSB7CiAgICAgICAgJHJlYWRlci0+
c2V0VXJsKCR1LCB0cnVlKTsKICAgICAgICAkZSA9ICRyZWFkZXItPmdldEV2ZW50cygpOwog
ICAgICAgIGZvcmVhY2ggKCRlIGFzICRldmVudCkgewogICAgICAgICAgICAvLyAkcGxhaW5F
dmVudHMgPSBnZXRQbGFpbkV2ZW50cygkZXZlbnQpOwogICAgICAgICAgICAvLyAkZXZlbnRz
ID0gYXJyYXlfbWVyZ2UoJGV2ZW50cywgJHBsYWluRXZlbnRzKTsKICAgICAgICAgICAgJGV2
ZW50c1tdID0gZ2V0UGxhaW5FdmVudCgkZXZlbnQpOwogICAgICAgIH0KICAgIH0KICAgIC8v
IFNvcnQgZXZlbnRzIGJ5IHN0YXJ0ZGF0ZQogICAgdXNvcnQoJGV2ZW50cywgImNtcF9ldmVu
dCIpOwogICAgcmV0dXJuICRldmVudHM7Cn0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gZ2V0UGxh
aW5FdmVudCgkZXZ0KQp7CiAgICAkcGxhaW5FdmVudCA9IGFycmF5KCk7CgogICAgJHBsYWlu
RXZlbnQgPSBuZXcgc3RkQ2xhc3M7CiAgICAkcGxhaW5FdmVudC0+c3RhcnQgICAgID0gJGV2
dC0+Z2V0U3RhcnQoKTsKICAgICRwbGFpbkV2ZW50LT5lbmQgICAgICAgPSAkZXZ0LT5nZXRF
bmQoKTsKICAgICRwbGFpbkV2ZW50LT5kdXJhdGlvbiAgPSAkZXZ0LT5nZXREdXJhdGlvbigp
OwogICAgJHBsYWluRXZlbnQtPnN1bSAgICAgICA9ICRldnQtPmdldFN1bW1hcnkoKTsKICAg
ICRwbGFpbkV2ZW50LT5kZXMgICAgICAgPSAkZXZ0LT5nZXREZXNjcmlwdGlvbigpOwogICAg
JHBsYWluRXZlbnQtPmxvYyAgICAgICA9ICRldnQtPmdldExvY2F0aW9uKCk7CiAgICAkcGxh
aW5FdmVudC0+dWlkICAgICAgID0gJGV2dC0+Z2V0VUlEKCk7CgogICAgJHJlYyA9ICRldnQt
PmdldFByb3BlcnR5KCdyZWN1cnJlbmNlJyk7CiAgICBpZiAoJHJlYyA9PT0gbnVsbCkgewog
ICAgICAgICRwbGFpbkV2ZW50LT5yZWMgPSBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgICAg
Ly8gJHBsYWluRXZlbnQtPnJlYyA9IGpzb25fZW5jb2RlKGdldFBsYWluUmVjKCRyZWMpKTsK
ICAgICAgICAkcGxhaW5FdmVudC0+cmVjID0gZ2V0UGxhaW5SZWMoJHJlYyk7CiAgICB9CiAg
ICByZXR1cm4gJHBsYWluRXZlbnQ7Cn0KCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZnVuY3Rpb24gZ2V0UGxhaW5S
ZWMoJHJlYykKewogICAgJHIgPSBuZXcgc3RkQ2xhc3M7CiAgICAkY2xhc3NfbWV0aG9kcyA9
IGdldF9jbGFzc19tZXRob2RzKCRyZWMpOwogICAgZm9yZWFjaCAoJGNsYXNzX21ldGhvZHMg
YXMgJG1ldGhvZCkgewogICAgICAgIGlmIChzdWJzdHIoJG1ldGhvZCwgMCwgMykgPT09ICdn
ZXQnKSB7CiAgICAgICAgICAgICRwcm9wID0gc3RydG9sb3dlcihzdWJzdHIoJG1ldGhvZCwg
MykpOwogICAgICAgICAgICAkci0+JHByb3AgPSAkcmVjLT4kbWV0aG9kKCk7CiAgICAgICAg
fQogICAgfQogICAgcmV0dXJuICRyOwp9CgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmZ1bmN0aW9uIGNtcF9ldmVu
dCgkYSwgJGIpCnsKICAgICRkYSA9ICRhLT5zdGFydDsKICAgICRkYiA9ICRiLT5zdGFydDsK
ICAgIGlmICgkZGEgPT0gJGRiKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CiAgICByZXR1
cm4gKCRkYSA8ICRkYikgPyAtMSA6IDE7Cn0KCgoKLyoqCiAqIFRoaXMgZmlsZSBpcyBhIGNv
bmNhdGVuYXRpb24gb2YgdGhlIHNyYyBmaWxlcyBmb3IKICogaHR0cHM6Ly9naXRodWIuY29t
L1RLci9pbnRvdWNoLWlDYWxlbmRhci90cmVlL21hc3Rlci9zcmMKICogd2l0aCB0aGUgZm9s
bG93aW5nIG1vZGlmaWNhdGlvbnMKICogUmVtb3ZhbCBvZiBpbnRlcm1lZGlhcnkgPD9waHAg
4oCmID8+IHRhZ3MKICogQ29tbWVudGluZyBvdXQgb2YgaW50ZXJtZWRpYXJ5IG5hbWVzcGFj
ZSAoZXhjZXB0IGZvciBpbml0aWFsIG5hbWVzcGFjZSkKICogQ29tbWVudGluZyBvdXQgb2Yg
ZHVwbGljYXRlICJ1c2UiIHN0YXRlbWVudHMKICoKICovCgpkZWZpbmUoJ1NHX0lDQUxSRUFE
RVJfVkVSU0lPTicsICcwLjguMCcpOwoKLyoqCiAqIEEgc2ltcGxlIElDYWwgcGFyc2VyLgog
KgogKiBodHRwOi8vZ2l0aHViLmNvbS9tZmthaG4vaW50b3VjaC1pQ2FsZW5kYXIgYmFzZWQg
b24KICogaHR0cDovL2dpdGh1Yi5jb20vZmFuZ2VsL1NHLWlDYWxlbmRhcgogKgogKiBSb2Fk
bWFwOgogKiAtIEZpbmlzaCBGUkVRVUVOQ1ktcGFyc2luZy4KICogLSBBZGQgQVBJIGZvciBy
ZWN1cnJpbmcgZXZlbnRzCiAqCiAqIEEgc2ltcGxlIGV4YW1wbGU6CiAqIDxjb2RlPgogKiA8
P3BocAogKiB1c2UgVEtyXGljYWxcSUNhbDsKICogJGljYWwgPSBuZXcgSUNhbCgiaHR0cDov
L2V4YW1wbGUuY29tL2NhbGVuZGFyLmljcyIpOwogKiBmb3JlYWNoICggJGljYWwtPmdldEV2
ZW50cygpIEFzICRldmVudCApIHsKICogICAvLyBEbyBzdHVmZiB3aXRoIHRoZSBldmVudCAk
ZXZlbnQKICogfQogKiA/PgogKiA8L2NvZGU+CiAqCiAqIEBhdXRob3IgTW9ydGVuIEZhbmdl
bCAoQykgMjAwOAogKiBAYXV0aG9yIHhvbmV2IChDKSAyMDEwCiAqIEBhdXRob3IgVGFuZ3V5
IFBydXZvdCAoQykgMjAxMAogKiBAYXV0aG9yIE1pY2hhZWwgS2FobiAoQykgMjAxMwogKiBA
bGljZW5zZSBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjUv
ZGsvZGVlZC5lbl9HQiBDQy1CWS1TQS1ESwogKi8KY2xhc3MgSUNhbAp7CiAgICAvL29iamVj
dHMKICAgIHB1YmxpYyAkaW5mb3JtYXRpb247IC8vVkNhbGVuZGFyCiAgICBwdWJsaWMgJHRp
bWV6b25lczsgICAvL1ZUaW1lWm9uZQoKICAgIHByb3RlY3RlZCAkZXZlbnRzOyAvL1ZFdmVu
dFtdCgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGlDYWxSZWFkZXIuIFlvdSBj
YW4gc3VwcGx5IHRoZSB1cmwgbm93LCBvciBsYXRlciB1c2luZyBzZXRVcmwKICAgICAqIEBw
YXJhbSAkdXJsIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1
Y3QoJHVybCA9IGZhbHNlKQogICAgewogICAgICAgICR0aGlzLT5zZXRVcmwoJHVybCk7CiAg
ICB9CgogICAgLyoqCiAgICAgKiBTZXRzIChvciByZXNldHMpIHRoZSB1cmwgdGhpcyByZWFk
ZXIgcmVhZHMgZnJvbS4KICAgICAqIEBwYXJhbSAkdXJsIHN0cmluZwogICAgICovCiAgICBw
dWJsaWMgZnVuY3Rpb24gc2V0VXJsKCAkdXJsID0gZmFsc2UgKQogICAgewogICAgICAgIGlm
ICgkdXJsICE9PSBmYWxzZSkgewogICAgICAgICAgICBQYXJzZXI6OlBhcnNlKCR1cmwsICR0
aGlzKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBtYWlu
IGNhbGVuZGFyIGluZm8uIFlvdSBjYW4gdGhlbiBxdWVyeSB0aGUgcmV0dXJuZWQKICAgICAq
IG9iamVjdCB3aXRoIGllIGdldFRpdGxlKCkuCiAgICAgKiBAcmV0dXJuIFZDYWxlbmRhcgog
ICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0Q2FsZW5kYXJJbmZvKCkKICAgIHsKICAg
ICAgICByZXR1cm4gJHRoaXMtPmluZm9ybWF0aW9uOwogICAgfQoKICAgIC8qKgogICAgICog
U2V0cyB0aGUgY2FsZW5kYXIgaW5mbyBmb3IgdGhpcyBjYWxlbmRhcgogICAgICogQHBhcmFt
IFZDYWxlbmRhciAkaW5mbwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gc2V0Q2FsZW5k
YXJJbmZvKCBWQ2FsZW5kYXIgJGluZm8gKQogICAgewogICAgICAgICR0aGlzLT5pbmZvcm1h
dGlvbiA9ICRpbmZvOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyBhIGdpdmVuIHRp
bWV6b25lIGZvciB0aGUgY2FsZW5kYXIuIFRoaXMgaXMgbWFpbmx5IHVzZWQKICAgICAqIGJ5
IFZFdmVudHMgdG8gYWRqdXN0IHRoZWlyIGRhdGUtdGltZXMgaWYgdGhleSBoYXZlIHNwZWNp
ZmllZCBhCiAgICAgKiB0aW1lem9uZS4KICAgICAqCiAgICAgKiBJZiBubyB0aW1lem9uZSBp
cyBnaXZlbiwgYWxsIHRpbWV6b25lcyBpbiB0aGUgY2FsZW5kYXIgaXMKICAgICAqIHJldHVy
bmVkLgogICAgICoKICAgICAqIEBwYXJhbSAkdHppZCBzdHJpbmcKICAgICAqIEByZXR1cm4g
VlRpbWVab25lCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRUaW1lWm9uZUluZm8o
ICR0emlkID0gbnVsbCApCiAgICB7CiAgICAgICAgaWYgKCR0emlkID09IG51bGwpIHsKICAg
ICAgICAgICAgcmV0dXJuICR0aGlzLT50aW1lem9uZXM7CiAgICAgICAgfSBlbHNlIHsKICAg
ICAgICAgICAgaWYgKCAhaXNzZXQoJHRoaXMtPnRpbWV6b25lcykpIHsKICAgICAgICAgICAg
ICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvcmVhY2ggKCR0
aGlzLT50aW1lem9uZXMgQVMgJHR6KSB7CiAgICAgICAgICAgICAgICBpZiAoICR0ei0+Z2V0
VGltZVpvbmVJZCgpID09ICR0emlkICkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAk
dHo7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVy
biBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEFkZHMgYSBuZXcgdGlt
ZXpvbmUgdG8gdGhpcyBjYWxlbmRhcgogICAgICogQHBhcmFtIFZUaW1lWm9uZSAkdHoKICAg
ICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGFkZFRpbWVab25lKCBWVGltZVpvbmUgJHR6ICkK
ICAgIHsKICAgICAgICAkdGhpcy0+dGltZXpvbmVzW10gPSAkdHo7CiAgICB9CgogICAgLyoq
CiAgICAgKiBSZXR1cm5zIHRoZSBldmVudHMgZm91bmQKICAgICAqIEByZXR1cm4gYXJyYXkK
ICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldEV2ZW50cygpCiAgICB7CiAgICAgICAg
cmV0dXJuICR0aGlzLT5ldmVudHM7CiAgICB9CgogICAgLyoqCiAgICAgKiBBZGRzIGEgZXZl
bnQgdG8gdGhpcyBjYWxlbmRhcgogICAgICogQHBhcmFtIFZFdmVudCAkZXZlbnQKICAgICAq
LwogICAgcHVibGljIGZ1bmN0aW9uIGFkZEV2ZW50KCBWRXZlbnQgJGV2ZW50ICkKICAgIHsK
ICAgICAgICAkdGhpcy0+ZXZlbnRzW10gPSAkZXZlbnQ7CiAgICB9Cn0KCi8qKgogKiBMZWdh
Y3kgLSBlbXB0eSBzdWJjbGFzcyBvZiBJQ2FsCiAqIEBpbnRlcm5hbAogKi8KY2xhc3MgaUNh
bFJlYWRlciBleHRlbmRzIElDYWwge30KCi8vIG5hbWVzcGFjZSBUS3JcSUNhbDsKCi8qKgog
KiBBIGNsYXNzIGZvciBjYWxjdWxhdGluZyBob3cgbWFueSBzZWNvbmRzIGEgZHVyYXRpb24t
c3RyaW5nIGlzCiAqCiAqIEBhdXRob3IgTW9ydGVuIEZhbmdlbCAoQykgMjAwOAogKiBAYXV0
aG9yIE1pY2hhZWwgS2FobiAoQykgMjAxMwogKiBAbGljZW5zZSBodHRwOi8vY3JlYXRpdmVj
b21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjUvZGsvZGVlZC5lbl9HQiBDQy1CWS1TQS1E
SwogKi8KCmNsYXNzIER1cmF0aW9uCnsKICAgIHByb3RlY3RlZCAkZHVyOwoKICAgIC8qKgog
ICAgICogQ29uc3RydWN0cyBhIG5ldyBpbnRvdWNoXGljYWxcRHVyYXRpb24gZnJvbSBhIGR1
cmF0aW9uLXJ1bGUuCiAgICAgKiBUaGUgYmFzaWMgYnVpbGQtdXAgb2YgRFVSQVRJT05zIGFy
ZToKICAgICAqICAoWyIrIl0gLyAiLSIpICJQIiAoZHVyLWRhdGUgLyBkdXItZGF0ZSArICJU
IiArIGR1ci10aW1lIC8gZHVyLXRpbWUgLyBkdXItd2VlaykKICAgICAqIElzIHNvbHZlZCB2
aWEgYSByZWFsbHkgZnVnbHkgcmVnLWV4cCB3aXRoIHdheSB0byBtYW55ICgpJ3MuLgogICAg
ICoKICAgICAqIEBwYXJhbSAkZHVyYXRpb24gc3RyaW5nCiAgICAgKi8KICAgIHB1YmxpYyBm
dW5jdGlvbiBfX2NvbnN0cnVjdCggJGR1cmF0aW9uICkKICAgIHsKICAgICAgICAkdHMgPSAw
OwoKICAgICAgICBpZiAocHJlZ19tYXRjaCgnL1tcXCtcXC1dezAsMX1QKChcZCspVyk/KChc
ZCspRCk/KFQpPygoXGQrKUgpPygoXGQrKU0pPygoXGQrKVMpPy8nLCAkZHVyYXRpb24sICRt
YXRjaGVzKSA9PT0gMSkgewogICAgICAgICAgICAkcmVzdWx0cyA9IGFycmF5KAogICAgICAg
ICAgICAgICAgJ3dlZWtzJz0+ICAoaW50KSBAICRtYXRjaGVzWzJdLAogICAgICAgICAgICAg
ICAgJ2RheXMnPT4gICAoaW50KSBAICRtYXRjaGVzWzRdLAogICAgICAgICAgICAgICAgJ2hv
dXJzJz0+ICAoaW50KSBAICRtYXRjaGVzWzddLAogICAgICAgICAgICAgICAgJ21pbnV0ZXMn
PT4oaW50KSBAICRtYXRjaGVzWzldLAogICAgICAgICAgICAgICAgJ3NlY29uZHMnPT4oaW50
KSBAICRtYXRjaGVzWzExXQogICAgICAgICAgICApOwoKICAgICAgICAgICAgJHRzICs9ICRy
ZXN1bHRzWydzZWNvbmRzJ107CiAgICAgICAgICAgICR0cyArPSA2MCAqICRyZXN1bHRzWydt
aW51dGVzJ107CiAgICAgICAgICAgICR0cyArPSA2MCAqIDYwICogJHJlc3VsdHNbJ2hvdXJz
J107CiAgICAgICAgICAgICR0cyArPSAyNCAqIDYwICogNjAgKiAkcmVzdWx0c1snZGF5cydd
OwogICAgICAgICAgICAkdHMgKz0gNyAqIDI0ICogNjAgKiA2MCAqICRyZXN1bHRzWyd3ZWVr
cyddOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIEludmFsaWQgZHVyYXRpb24h
CiAgICAgICAgfQoKICAgICAgICAkZGlyID0gKCRkdXJhdGlvbnswfSA9PSAnLScpID8gLTEg
OiAxOwoKICAgICAgICAkdGhpcy0+ZHVyID0gJGRpciAqICR0czsKICAgIH0KCiAgICAvKioK
ICAgICAqIFJldHVybnMgdGhlIGR1cmF0aW9uIGluIHNlY29uZHMKICAgICAqIEByZXR1cm4g
aW50CiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXREdXJhdGlvbigpCiAgICB7CiAg
ICAgICAgcmV0dXJuICR0aGlzLT5kdXI7CiAgICB9Cn0KCi8vIG5hbWVzcGFjZSBUS3JcSUNh
bDsKLy8gdXNlIEFycmF5T2JqZWN0OwoKLyoqCiAqIEEgc2ltcGxlIEZhY3RvcnkgZm9yIGNv
bnZlcnRpbmcgYSBzZWN0aW9uL2RhdGEgcGFpciBpbnRvIHRoZQogKiBjb3Jyb3Nwb25kaW5n
IGJsb2NrLW9iamVjdC4gSWYgdGhlIHNlY3Rpb24gaXNuJ3Qga25vd24gYSBzaW1wbGUKICog
QXJyYXlPYmplY3QgaXMgdXNlZCBpbnN0ZWFkLgogKgogKiBAYXV0aG9yIE1vcnRlbiBGYW5n
ZWwgKEMpIDIwMDgKICogQGF1dGhvciBNaWNoYWVsIEthaG4gKEMpIDIwMTMKICogQGxpY2Vu
c2UgaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvMi41L2RrL2Rl
ZWQuZW5fR0IgQ0MtQlktU0EtREsKICovCmNsYXNzIEZhY3RvcnkKewogICAgLyoqCiAgICAg
KiBSZXR1cm5zIGEgbmV3IGJsb2NrLW9iamVjdCBmb3IgdGhlIHNlY3Rpb24vZGF0YS1wYWly
LiBUaGUgbGlzdAogICAgICogb2YgcmV0dXJuZWQgb2JqZWN0cyBpczoKICAgICAqCiAgICAg
KiB2Y2FsZW5kYXIgPT4gaW50b3VjaFxpY2FsXFZDYWxlbmRhcgogICAgICogdnRpbWV6b25l
ID0+IGludG91Y2hcaWNhbFxWVGltZVpvbmUKICAgICAqIHZldmVudCA9PiBpbnRvdWNoXGlj
YWxcVkV2ZW50CiAgICAgKiAqID0+IEFycmF5T2JqZWN0CiAgICAgKgogICAgICogQHBhcmFt
ICRpY2FsIElDYWwgVGhlIHJlYWRlciB0aGlzIHNlY3Rpb24vZGF0YS1wYWlyIGJlbG9uZ3Mg
dG8KICAgICAqIEBwYXJhbSAkc2VjdGlvbiBzdHJpbmcKICAgICAqIEBwYXJhbSBpbnRvdWNo
XGljYWxcTGluZVtdCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcG9ydGFs
KCBJQ2FsICRpY2FsLCAkc2VjdGlvbiwgJGRhdGEgKQogICAgewogICAgICAgIHN3aXRjaCAo
JHNlY3Rpb24pIHsKICAgICAgICAgICAgY2FzZSAidmNhbGVuZGFyIjoKICAgICAgICAgICAg
ICAgIHJldHVybiBuZXcgVkNhbGVuZGFyKExpbmU6OlJlbW92ZV9MaW5lKCRkYXRhKSwgJGlj
YWwgKTsKICAgICAgICAgICAgY2FzZSAidnRpbWV6b25lIjoKICAgICAgICAgICAgICAgIHJl
dHVybiBuZXcgVlRpbWVab25lKExpbmU6OlJlbW92ZV9MaW5lKCRkYXRhKSwgJGljYWwgKTsK
ICAgICAgICAgICAgY2FzZSAidmV2ZW50IjoKICAgICAgICAgICAgICAgIHJldHVybiBuZXcg
VkV2ZW50KCRkYXRhLCAkaWNhbCApOwoKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAg
ICAgICAgIHJldHVybiBuZXcgQXJyYXlPYmplY3QoTGluZTo6UmVtb3ZlX0xpbmUoKGFycmF5
KSAkZGF0YSkgKTsKICAgICAgICB9CiAgICB9Cn0KCi8vIG5hbWVzcGFjZSBUS3JcSUNhbDsK
Ci8qKgogKiBBIGNsYXNzIHRvIHN0b3JlIEZyZXF1ZW5jeS1ydWxlcyBpbi4gV2lsbCBhbGxv
dyBhIGVhc3kgd2F5IHRvIGZpbmQgdGhlCiAqIGxhc3QgYW5kIG5leHQgb2NjdXJyZW5jZSBv
ZiB0aGUgcnVsZS4KICoKICogTm8gLSB0aGlzIGlzIHNvIG5vdCBwcmV0dHkuIEJ1dC4uIGVo
aC4uIFlvdSBkbyBpdCBiZXR0ZXIsIGFuZCBJIHdpbGwKICogZ2xhZGx5IGFjY2VwdCBwYXRj
aGVzLgogKgogKiBDcmVhdGVkIGJ5IHRyYWlsLWFuZC1lcnJvciBvbiB0aGUgZXhhbXBsZXMg
Z2l2ZW4gaW4gdGhlIFJGQy4KICoKICogVE9ETzogVXBkYXRlIHRvIGEgYmV0dGVyIHdheSBv
ZiBkb2luZyBjYWxjdWxhdGluZyB0aGUgZGlmZmVyZW50IG9wdGlvbnMuCiAqIEluc3RlYWQg
b2Ygb25seSBrZWVwaW5nIHRyYWNrIG9mIHRoZSBiZXN0IG9mIHRoZSBjdXJyZW50IGRhdGVz
IGZvdW5kCiAqIGl0IHNob3VsZCBpbnN0ZWFkIGtlZXAgYSBhcnJheSBvZiBhbGwgdGhlIGNh
bGN1bGF0ZWQgZGF0ZXMgd2l0aGluIHRoZQogKiBwZXJpb2QuCiAqIFRoaXMgc2hvdWxkIGZp
eCB0aGUgaXNzdWVzIHdpdGggbXVsdGktcnVsZSArIG11bHRpLXJ1bGUgaW50ZXJmZXJlbmNl
LAogKiBhbmQgbWFrZSBpdCBwb3NzaWJsZSB0byBpbXBsZW1lbnQgdGhlIFNFVFBPUyBydWxl
LgogKiBCeSBwdXNoaW5nIHRoZSBuZXh0IHBlcmlvZCBvbnRvIHRoZSBzdGFjayBhcyB0aGUg
bGFzdCBvcHRpb24gd2lsbAogKiAoaG9wZWZ1bGx5KSByZW1vdmUgdGhlIG5lZWQgZm9yIHRo
ZSBhd2Z1bCBzaW1wbGVNb2RlCiAqCiAqIEBhdXRob3IgTW9ydGVuIEZhbmdlbCAoQykgMjAw
OAogKiBAYXV0aG9yIE1pY2hhZWwgS2FobiAoQykgMjAxMwogKiBAbGljZW5zZSBodHRwOi8v
Y3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjUvZGsvZGVlZC5lbl9HQiBD
Qy1CWS1TQS1ESwogKi8KY2xhc3MgRnJlcQp7CiAgICBwcm90ZWN0ZWQgJHdlZWtkYXlzID0g
YXJyYXkoJ01PJz0+J21vbmRheScsICdUVSc9Pid0dWVzZGF5JywgJ1dFJz0+J3dlZG5lc2Rh
eScsICdUSCc9Pid0aHVyc2RheScsICdGUic9PidmcmlkYXknLCAnU0EnPT4nc2F0dXJkYXkn
LCAnU1UnPT4nc3VuZGF5Jyk7CiAgICBwcm90ZWN0ZWQgJGtub3duUnVsZXMgPSBhcnJheSgn
bW9udGgnLCAnd2Vla25vJywgJ2RheScsICdtb250aGRheScsICd5ZWFyZGF5JywgJ2hvdXIn
LCAnbWludXRlJyk7IC8vb3RoZXJzIDogJ3NldHBvcycsICdzZWNvbmQnCiAgICBwcm90ZWN0
ZWQgJHJ1bGVNb2RpZmllcnMgPSBhcnJheSgnd2tzdCcpOwogICAgcHJvdGVjdGVkICRzaW1w
bGVNb2RlID0gdHJ1ZTsKCiAgICBwcm90ZWN0ZWQgJHJ1bGVzID0gYXJyYXkoJ2ZyZXEnPT4n
eWVhcmx5JywgJ2ludGVydmFsJz0+MSk7CiAgICBwcm90ZWN0ZWQgJHN0YXJ0ID0gMDsKICAg
IHByb3RlY3RlZCAkZnJlcSA9ICcnOwoKICAgIHByb3RlY3RlZCAkZXhjbHVkZWQgPSBhcnJh
eSgpOyAvL0VYREFURQogICAgcHJvdGVjdGVkICRhZGRlZDsgICAgLy9SREFURQoKICAgIHBy
b3RlY3RlZCAkY2FjaGU7IC8vIGdldEFsbE9jY3VycmVuY2VzKCkKCiAgICAvKioKICAgICAq
IENvbnN0cnVjdHMgYSBuZXcgRnJlcWVuY3ktcnVsZQogICAgICogQHBhcmFtICRydWxlIHN0
cmluZwogICAgICogQHBhcmFtICRzdGFydCBpbnQgVW5peC10aW1lc3RhbXAgKGltcG9ydGFu
dCA6IE5lZWQgdG8gYmUgdGhlIHN0YXJ0IG9mIEV2ZW50KQogICAgICogQHBhcmFtICRleGNs
dWRlZCBhcnJheSBvZiBpbnQgKHRpbWVzdGFtcHMpLCBzZWUgRVhEQVRFIGRvY3VtZW50YXRp
b24KICAgICAqIEBwYXJhbSAkYWRkZWQgYXJyYXkgb2YgaW50ICh0aW1lc3RhbXBzKSwgc2Vl
IFJEQVRFIGRvY3VtZW50YXRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9fY29u
c3RydWN0KCRyZWN1cnJlbmNlLCAkc3RhcnQsICRleGNsdWRlZD1hcnJheSgpLCAkYWRkZWQ9
YXJyYXkoKSwgJHVudGlsID0gbnVsbCkKICAgIHsKICAgICAgICAkdGhpcy0+c3RhcnQgPSAk
c3RhcnQ7CiAgICAgICAgJHRoaXMtPmV4Y2x1ZGVkID0gYXJyYXkoKTsKICAgICAgICAkcnVs
ZSA9ICRyZWN1cnJlbmNlLT5ycnVsZTsKCiAgICAgICAgJHJ1bGVzID0gYXJyYXkoKTsKICAg
ICAgICBmb3JlYWNoICggZXhwbG9kZSgnOycsICRydWxlKSBhcyAkdikgewogICAgICAgICAg
ICBsaXN0KCRrLCAkdikgPSBleHBsb2RlKCc9JywgJHYpOwogICAgICAgICAgICAkdGhpcy0+
cnVsZXNbIHN0cnRvbG93ZXIoJGspIF0gPSAkdjsKICAgICAgICB9CgogICAgICAgIGlmICgh
aXNzZXQoJHRoaXMtPnJ1bGVzWyd1bnRpbCddKSkgewogICAgICAgICAgICBpZiAoISR1bnRp
bCAmJiBpc3NldCgkcmVjdXJyZW5jZS0+dW50aWwpKSB7CiAgICAgICAgICAgICAgICAkdGhp
cy0+cnVsZXNbJ3VudGlsJ10gPSAkcmVjdXJyZW5jZS0+dW50aWw7CiAgICAgICAgICAgIH0g
ZWxzZWlmKCR1bnRpbCkgewogICAgICAgICAgICAgICAgJHRoaXMtPnJ1bGVzWyd1bnRpbCdd
ID0gJHVudGlsOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChpc3NldCgk
dGhpcy0+cnVsZXNbJ3VudGlsJ10pICYmIGlzX3N0cmluZygkdGhpcy0+cnVsZXNbJ3VudGls
J10pICkgewogICAgICAgICAgICAkdGhpcy0+cnVsZXNbJ3VudGlsJ10gPSBzdHJ0b3RpbWUo
JHRoaXMtPnJ1bGVzWyd1bnRpbCddKTsKICAgICAgICB9CiAgICAgICAgJHRoaXMtPmZyZXEg
PSBzdHJ0b2xvd2VyKCR0aGlzLT5ydWxlc1snZnJlcSddKTsKCiAgICAgICAgZm9yZWFjaCAo
JHRoaXMtPmtub3duUnVsZXMgQVMgJHJ1bGUpIHsKICAgICAgICAgICAgaWYgKCBpc3NldCgk
dGhpcy0+cnVsZXNbJ2J5JyAuICRydWxlXSkgKSB7CiAgICAgICAgICAgICAgICBpZiAoICR0
aGlzLT5pc1ByZXJ1bGUoJHJ1bGUsICR0aGlzLT5mcmVxKSApIHsKICAgICAgICAgICAgICAg
ICAgICAkdGhpcy0+c2ltcGxlTW9kZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAg
ICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoISR0aGlzLT5zaW1wbGVNb2RlKSB7
CiAgICAgICAgICAgIGlmICghIChpc3NldCgkdGhpcy0+cnVsZXNbJ2J5ZGF5J10pIHx8IGlz
c2V0KCR0aGlzLT5ydWxlc1snYnltb250aGRheSddKSB8fCBpc3NldCgkdGhpcy0+cnVsZXNb
J2J5eWVhcmRheSddKSkpIHsKICAgICAgICAgICAgICAgICR0aGlzLT5ydWxlc1snYnltb250
aGRheSddID0gZGF0ZSgnZCcsICR0aGlzLT5zdGFydCk7CiAgICAgICAgICAgIH0KICAgICAg
ICB9CgogICAgICAgIC8vc2V0IHVudGlsLCBhbmQgY2FjaGUKICAgICAgICBpZiAoIGlzc2V0
KCR0aGlzLT5ydWxlc1snY291bnQnXSkgKSB7CgogICAgICAgICAgICAkY2FjaGVbJHRzXSA9
ICR0cyA9ICR0aGlzLT5zdGFydDsKICAgICAgICAgICAgZm9yICgkbj0xOyAkbiA8ICR0aGlz
LT5ydWxlc1snY291bnQnXTsgJG4rKykgewogICAgICAgICAgICAgICAgJHRzID0gJHRoaXMt
PmZpbmROZXh0KCR0cyk7CiAgICAgICAgICAgICAgICAkY2FjaGVbJHRzXSA9ICR0czsKICAg
ICAgICAgICAgfQogICAgICAgICAgICAkdGhpcy0+cnVsZXNbJ3VudGlsJ10gPSAkdHM7Cgog
ICAgICAgICAgICAvL0VYREFURQogICAgICAgICAgICBpZiAoIWVtcHR5KCRleGNsdWRlZCkp
IHsKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRleGNsdWRlZCBhcyAkdHMpIHsKICAgICAg
ICAgICAgICAgICAgICB1bnNldCgkY2FjaGVbJHRzXSk7CiAgICAgICAgICAgICAgICB9CiAg
ICAgICAgICAgIH0KICAgICAgICAgICAgLy9SREFURQogICAgICAgICAgICBpZiAoIWVtcHR5
KCRhZGRlZCkpIHsKICAgICAgICAgICAgICAgICRjYWNoZSA9ICRjYWNoZSArICRhZGRlZDsK
ICAgICAgICAgICAgICAgIGFzb3J0KCRjYWNoZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAg
ICAgICR0aGlzLT5jYWNoZSA9IGFycmF5X3ZhbHVlcygkY2FjaGUpOwogICAgICAgIH0KCiAg
ICAgICAgJHRoaXMtPmV4Y2x1ZGVkID0gJGV4Y2x1ZGVkOwogICAgICAgICR0aGlzLT5hZGRl
ZCA9ICRhZGRlZDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgYWxsIHRpbWVzdGFt
cHMgYXJyYXkoKSwgYnVpbGQgdGhlIGNhY2hlIGlmIG5vdCBtYWRlIGJlZm9yZQogICAgICog
QHJldHVybiBhcnJheQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QWxsT2NjdXJy
ZW5jZXMoJGxpbWl0ID0gMTAwLCAkb2Zmc2V0ID0gZmFsc2UpCiAgICB7CiAgICAgICAgaWYg
KGVtcHR5KCR0aGlzLT5jYWNoZSkpIHsKICAgICAgICAgICAgLy9idWlsZCBjYWNoZQogICAg
ICAgICAgICAkbmV4dCA9ICR0aGlzLT5maXJzdE9jY3VycmVuY2UoJG9mZnNldCk7CiAgICAg
ICAgICAgICRjID0gMDsKICAgICAgICAgICAgd2hpbGUgKCRuZXh0ICYmICRjIDwgJGxpbWl0
KSB7CiAgICAgICAgICAgICAgICAkY2FjaGVbXSA9ICRuZXh0OwogICAgICAgICAgICAgICAg
JG5leHQgPSAkdGhpcy0+ZmluZE5leHQoJG5leHQpOwogICAgICAgICAgICAgICAgJGMrKzsK
ICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIWVtcHR5KCR0aGlzLT5hZGRlZCkpIHsK
ICAgICAgICAgICAgICAgICRjYWNoZSA9ICRjYWNoZSArICR0aGlzLT5hZGRlZDsKICAgICAg
ICAgICAgICAgIGFzb3J0KCRjYWNoZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHRo
aXMtPmNhY2hlID0gJGNhY2hlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0aGlzLT5j
YWNoZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHByZXZpb3VzIChtb3N0
IHJlY2VudCkgb2NjdXJyZW5jZSBvZiB0aGUgcnVsZSBmcm9tIHRoZQogICAgICogZ2l2ZW4g
b2Zmc2V0CiAgICAgKiBAcGFyYW0gIGludCAkb2Zmc2V0CiAgICAgKiBAcmV0dXJuIGludAog
ICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gcHJldmlvdXNPY2N1cnJlbmNlKCAkb2Zmc2V0
ICkKICAgIHsKICAgICAgICBpZiAoIWVtcHR5KCR0aGlzLT5jYWNoZSkpIHsKICAgICAgICAg
ICAgJHQyPSR0aGlzLT5zdGFydDsKICAgICAgICAgICAgZm9yZWFjaCAoJHRoaXMtPmNhY2hl
IGFzICR0cykgewogICAgICAgICAgICAgICAgaWYgKCR0cyA+PSAkb2Zmc2V0KQogICAgICAg
ICAgICAgICAgICAgIHJldHVybiAkdDI7CiAgICAgICAgICAgICAgICAkdDIgPSAkdHM7CiAg
ICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkdHMgPSAkdGhpcy0+
c3RhcnQ7CiAgICAgICAgICAgIHdoaWxlICggKCR0MiA9ICR0aGlzLT5maW5kTmV4dCgkdHMp
KSA8ICRvZmZzZXQpIHsKICAgICAgICAgICAgICAgIGlmICgkdDIgPT0gZmFsc2UpIHsKICAg
ICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
ICAgICR0cyA9ICR0MjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJu
ICR0czsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIG5leHQgb2NjdXJyZW5j
ZSBvZiB0aGlzIHJ1bGUgYWZ0ZXIgdGhlIGdpdmVuIG9mZnNldAogICAgICogQHBhcmFtICBp
bnQgJG9mZnNldAogICAgICogQHJldHVybiBpbnQKICAgICAqLwogICAgcHVibGljIGZ1bmN0
aW9uIG5leHRPY2N1cnJlbmNlKCAkb2Zmc2V0ICkKICAgIHsKICAgICAgICBpZiAoJG9mZnNl
dCA8ICR0aGlzLT5zdGFydCkKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5maXJzdE9jY3Vy
cmVuY2UoKTsKICAgICAgICByZXR1cm4gJHRoaXMtPmZpbmROZXh0KCRvZmZzZXQpOwogICAg
fQoKICAgIC8qKgogICAgICogRmluZHMgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgdGhlIHJ1
bGUuCiAgICAgKiBAcmV0dXJuIGludCB0aW1lc3RhbXAKICAgICAqLwogICAgcHVibGljIGZ1
bmN0aW9uIGZpcnN0T2NjdXJyZW5jZSgkb2Zmc2V0ID0gZmFsc2UpCiAgICB7CiAgICAgICAg
aWYgKCFpc19hcnJheSgkdGhpcy0+ZXhjbHVkZWQpKSB7CiAgICAgICAgICAgICR0aGlzLT5l
eGNsdWRlZCA9IChhcnJheSkkdGhpcy0+ZXhjbHVkZWQ7CiAgICAgICAgfQogICAgICAgICR0
ID0gKCRvZmZzZXQgIT09IGZhbHNlKSA/ICRvZmZzZXQgOiAkdGhpcy0+c3RhcnQ7CiAgICAg
ICAgaWYgKCFpc19hcnJheSgkdGhpcy0+ZXhjbHVkZWQpKSB7CiAgICAgICAgICAgICR0aGlz
LT5leGNsdWRlZCA9IChhcnJheSkkdGhpcy0+ZXhjbHVkZWQ7CiAgICAgICAgfQogICAgICAg
IGlmIChpbl9hcnJheSgkdCwgJHRoaXMtPmV4Y2x1ZGVkKSkKICAgICAgICAgICAgJHQgPSAk
dGhpcy0+ZmluZE5leHQoJHQpOwoKICAgICAgICByZXR1cm4gJHQ7CiAgICB9CgogICAgLyoq
CiAgICAgKiBGaW5kcyB0aGUgYWJzb2x1dGUgbGFzdCBvY2N1cnJlbmNlIG9mIHRoZSBydWxl
IGZyb20gdGhlIGdpdmVuIG9mZnNldC4KICAgICAqIEJ1aWxkcyBhbHNvIHRoZSBjYWNoZSwg
aWYgbm90IHNldCBiZWZvcmUuLi4KICAgICAqIEByZXR1cm4gaW50IHRpbWVzdGFtcAogICAg
ICovCiAgICBwdWJsaWMgZnVuY3Rpb24gbGFzdE9jY3VycmVuY2UoKQogICAgewogICAgICAg
IC8vYnVpbGQgY2FjaGUgaWYgbm90IGRvbmUKICAgICAgICAkdGhpcy0+Z2V0QWxsT2NjdXJy
ZW5jZXMoKTsKICAgICAgICAvL3JldHVybiBsYXN0IHRpbWVzdGFtcCBpbiBjYWNoZQogICAg
ICAgIHJldHVybiBlbmQoJHRoaXMtPmNhY2hlKTsKICAgIH0KCiAgICAvKioKICAgICAqIENh
bGN1bGF0ZXMgdGhlIG5leHQgdGltZSBhZnRlciB0aGUgZ2l2ZW4gb2Zmc2V0IHRoYXQgdGhl
IHJ1bGUKICAgICAqIHdpbGwgYXBwbHkuCiAgICAgKgogICAgICogVGhlIGFwcHJvYWNoIHRv
IGZpbmRpbmcgdGhlIG5leHQgaXMgYXMgZm9sbG93czoKICAgICAqIEZpcnN0IHdlIGVzdGFi
bGlzaCBhIHRpbWVmcmFtZSB0byBmaW5kIHRpbWVzdGFtcHMgaW4uIFRoaXMgaXMKICAgICAq
IGJldHdlZW4gJG9mZnNldCBhbmQgdGhlIGVuZCBvZiB0aGUgcGVyaW9kIHRoYXQgJG9mZnNl
dCBpcyBpbi4KICAgICAqCiAgICAgKiBXZSB0aGVuIGxvb3AgdGhvdWdoIGFsbCB0aGUgcnVs
ZXMgKHRoYXQgaXMgYSBQcmVydWxlIGluIHRoZQogICAgICogY3VycmVudCBmcmVxLiksIGFu
ZCBmaW5kcyB0aGUgc21hbGxlc3QgdGltZXN0YW1wIGluc2lkZSB0aGUKICAgICAqIHRpbWVm
cmFtZS4KICAgICAqCiAgICAgKiBJZiB3ZSBmaW5kIHNvbWV0aGluZywgd2UgY2hlY2sgaWYg
dGhlIGRhdGUgaXMgYSB2YWxpZCByZWN1cnJlbmNlCiAgICAgKiAod2l0aCB2YWxpZERhdGUp
LiBJZiBpdCBpcywgd2UgcmV0dXJuIGl0LiBPdGhlcndpc2Ugd2UgdHJ5IHRvCiAgICAgKiBm
aW5kIGEgbmV3IGRhdGUgaW5zaWRlIHRoZSBzYW1lIHRpbWVmcmFtZSAoYnV0IHVzaW5nIHRo
ZSBuZXctCiAgICAgKiBmb3VuZCBkYXRlIGFzIG9mZnNldCkKICAgICAqCiAgICAgKiBJZiBu
byBuZXcgdGltZXN0YW1wcyB3ZXJlIGZvdW5kIGluIHRoZSBwZXJpb2QsIHdlIHRyeSBpbiB0
aGUKICAgICAqIG5leHQgcGVyaW9kCiAgICAgKgogICAgICogQHBhcmFtICBpbnQgJG9mZnNl
dAogICAgICogQHJldHVybiBpbnQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGZpbmRO
ZXh0KCRvZmZzZXQpCiAgICB7CiAgICAgICAgaWYgKCFlbXB0eSgkdGhpcy0+Y2FjaGUpKSB7
CiAgICAgICAgICAgIGZvcmVhY2ggKCR0aGlzLT5jYWNoZSBhcyAkdHMpIHsKICAgICAgICAg
ICAgICAgIGlmICgkdHMgPiAkb2Zmc2V0KQogICAgICAgICAgICAgICAgICAgIHJldHVybiAk
dHM7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKCFpc19hcnJheSgkdGhp
cy0+ZXhjbHVkZWQpKSB7CiAgICAgICAgICAgICR0aGlzLT5leGNsdWRlZCA9IChhcnJheSkk
dGhpcy0+ZXhjbHVkZWQ7CiAgICAgICAgfQogICAgICAgICRkZWJ1ZyA9IGZhbHNlOwoKICAg
ICAgICAvL21ha2Ugc3VyZSB0aGUgb2Zmc2V0IGlzIHZhbGlkCiAgICAgICAgaWYgKCAkb2Zm
c2V0ID09PSBmYWxzZSB8fCAoaXNzZXQoJHRoaXMtPnJ1bGVzWyd1bnRpbCddKSAmJiAkb2Zm
c2V0ID4gJHRoaXMtPnJ1bGVzWyd1bnRpbCddKSApIHsKICAgICAgICAgICAgaWYoJGRlYnVn
KSBlY2hvICdTVE9QOiAnIC4gZGF0ZSgncicsICRvZmZzZXQpIC4gIlxuIjsKCiAgICAgICAg
ICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgICRmb3VuZCA9IHRydWU7Cgog
ICAgICAgIC8vc2V0IHRoZSB0aW1lc3RhbXAgb2YgdGhlIG9mZnNldCAoaWdub3JpbmcgaG91
cnMgYW5kIG1pbnV0ZXMgdW5sZXNzIHdlIHdhbnQgdGhlbSB0byBiZQogICAgICAgIC8vcGFy
dCBvZiB0aGUgY2FsY3VsYXRpb25zLgogICAgICAgIGlmKCRkZWJ1ZykgZWNobyAnTzogJyAu
IGRhdGUoJ3InLCAkb2Zmc2V0KSAuICJcbiI7CiAgICAgICAgJGhvdXIgPSAoaW5fYXJyYXko
JHRoaXMtPmZyZXEsIGFycmF5KCdob3VybHknLCdtaW51dGVseScpKSAmJiAkb2Zmc2V0ID4g
JHRoaXMtPnN0YXJ0KSA/IGRhdGUoJ0gnLCAkb2Zmc2V0KSA6IGRhdGUoJ0gnLCAkdGhpcy0+
c3RhcnQpOwogICAgICAgICRtaW51dGUgPSAoKCR0aGlzLT5mcmVxID09ICdtaW51dGVseScg
fHwgaXNzZXQoJHRoaXMtPnJ1bGVzWydieW1pbnV0ZSddKSkgJiYgJG9mZnNldCA+ICR0aGlz
LT5zdGFydCkgPyBkYXRlKCdpJywgJG9mZnNldCkgOiBkYXRlKCdpJywgJHRoaXMtPnN0YXJ0
KTsKICAgICAgICAkdCA9IG1rdGltZSgkaG91ciwgJG1pbnV0ZSwgZGF0ZSgncycsICR0aGlz
LT5zdGFydCksIGRhdGUoJ20nLCAkb2Zmc2V0KSwgZGF0ZSgnZCcsICRvZmZzZXQpLCBkYXRl
KCdZJywkb2Zmc2V0KSk7CiAgICAgICAgaWYoJGRlYnVnKSBlY2hvICdTVEFSVDogJyAuIGRh
dGUoJ3InLCAkdCkgLiAiXG4iOwoKICAgICAgICBpZiAoJHRoaXMtPnNpbXBsZU1vZGUpIHsK
ICAgICAgICAgICAgaWYgKCRvZmZzZXQgPCAkdCkgewogICAgICAgICAgICAgICAgJHRzID0g
JHQ7CiAgICAgICAgICAgICAgICBpZiAoJHRzICYmIGluX2FycmF5KCR0cywgJHRoaXMtPmV4
Y2x1ZGVkKSkKICAgICAgICAgICAgICAgICAgICAkdHMgPSAkdGhpcy0+ZmluZE5leHQoJHRz
KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICR0cyA9ICR0aGlzLT5m
aW5kU3RhcnRpbmdQb2ludCggJHQsICR0aGlzLT5ydWxlc1snaW50ZXJ2YWwnXSwgZmFsc2Ug
KTsKICAgICAgICAgICAgICAgIGlmICggISR0aGlzLT52YWxpZERhdGUoICR0cyApICkgewog
ICAgICAgICAgICAgICAgICAgICR0cyA9ICR0aGlzLT5maW5kTmV4dCgkdHMpOwogICAgICAg
ICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gJHRzOwogICAg
ICAgIH0KCiAgICAgICAgJGVvcCA9ICR0aGlzLT5maW5kRW5kT2ZQZXJpb2QoJG9mZnNldCk7
CiAgICAgICAgaWYoJGRlYnVnKSBlY2hvICdFT1A6ICcgLiBkYXRlKCdyJywgJGVvcCkgLiAi
XG4iOwoKICAgICAgICBmb3JlYWNoICgkdGhpcy0+a25vd25SdWxlcyBBUyAkcnVsZSkgewog
ICAgICAgICAgICBpZiAoICRmb3VuZCAmJiBpc3NldCgkdGhpcy0+cnVsZXNbJ2J5JyAuICRy
dWxlXSkgKSB7CiAgICAgICAgICAgICAgICBpZiAoICR0aGlzLT5pc1ByZXJ1bGUoJHJ1bGUs
ICR0aGlzLT5mcmVxKSApIHsKICAgICAgICAgICAgICAgICAgICAkc3VicnVsZXMgPSBleHBs
b2RlKCcsJywgJHRoaXMtPnJ1bGVzWydieScgLiAkcnVsZV0pOwogICAgICAgICAgICAgICAg
ICAgICRfdCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJHN1YnJ1bGVz
IEFTICRzdWJydWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRpbW0gPSBjYWxsX3Vz
ZXJfZnVuY19hcnJheShhcnJheSgkdGhpcywgJ3J1bGVCeScgLiAkcnVsZSksIGFycmF5KCRz
dWJydWxlLCAkdCkpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGltbSA9PT0gZmFs
c2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAg
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRkZWJ1ZykgZWNobyBz
dHJ0b3VwcGVyKCRydWxlKSAuICc6ICcgLiBkYXRlKCdyJywgJGltbSkgLiAnIEE6ICcgLiAo
KGludCkgKCRpbW0gPiAkb2Zmc2V0ICYmICRpbW0gPCAkZW9wKSkgLiAiXG4iOwogICAgICAg
ICAgICAgICAgICAgICAgICBpZiAoICRpbW0gPiAkb2Zmc2V0ICYmICRpbW0gPCAkZW9wICYm
ICgkX3QgPT0gbnVsbCB8fCAkaW1tIDwgJF90KSApIHsKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICRfdCA9ICRpbW07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAg
ICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRfdCAhPT0gbnVsbCkgewog
ICAgICAgICAgICAgICAgICAgICAgICAkdCA9ICRfdDsKICAgICAgICAgICAgICAgICAgICB9
IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkZm91bmQgPSAkdGhpcy0+dmFsaWRE
YXRlKCR0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAg
ICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgkb2Zmc2V0IDwgJHRoaXMtPnN0YXJ0
ICYmICR0aGlzLT5zdGFydCA8ICR0KSB7CiAgICAgICAgICAgICR0cyA9ICR0aGlzLT5zdGFy
dDsKICAgICAgICB9IGVsc2VpZiAoICRmb3VuZCAmJiAoJHQgIT0gJG9mZnNldCkpIHsKICAg
ICAgICAgICAgaWYgKCAkdGhpcy0+dmFsaWREYXRlKCAkdCApICkgewogICAgICAgICAgICAg
ICAgaWYoJGRlYnVnKSBlY2hvICdPSycgLiAiXG4iOwogICAgICAgICAgICAgICAgJHRzID0g
JHQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZigkZGVidWcpIGVj
aG8gJ0ludmFsaWQnIC4gIlxuIjsKICAgICAgICAgICAgICAgICR0cyA9ICR0aGlzLT5maW5k
TmV4dCgkdCk7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBp
ZigkZGVidWcpIGVjaG8gJ05vdCBmb3VuZCcgLiAiXG4iOwogICAgICAgICAgICAkdHMgPSAk
dGhpcy0+ZmluZE5leHQoICR0aGlzLT5maW5kU3RhcnRpbmdQb2ludCggJG9mZnNldCwgJHRo
aXMtPnJ1bGVzWydpbnRlcnZhbCddICkgKTsKICAgICAgICB9CiAgICAgICAgaWYgKCR0cyAm
JiBpbl9hcnJheSgkdHMsICR0aGlzLT5leGNsdWRlZCkpCiAgICAgICAgICAgIHJldHVybiAk
dGhpcy0+ZmluZE5leHQoJHRzKTsKCiAgICAgICAgcmV0dXJuICR0czsKICAgIH0KCiAgICAv
KioKICAgICAqIEZpbmRzIHRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIG5leHQgcnVsZS4g
SXQgZ29lcyAkaW50ZXJ2YWwKICAgICAqICdmcmVxJyBmb3J3YXJkIGluIHRpbWUgc2luY2Ug
dGhlIGdpdmVuIG9mZnNldAogICAgICogQHBhcmFtICBpbnQgICAgICRvZmZzZXQKICAgICAq
IEBwYXJhbSAgaW50ICAgICAkaW50ZXJ2YWwKICAgICAqIEBwYXJhbSAgYm9vbGVhbiAkdHJ1
bmNhdGUKICAgICAqIEByZXR1cm4gaW50CiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24g
ZmluZFN0YXJ0aW5nUG9pbnQoICRvZmZzZXQsICRpbnRlcnZhbCwgJHRydW5jYXRlID0gdHJ1
ZSApCiAgICB7CiAgICAgICAgJF9mcmVxID0gKCR0aGlzLT5mcmVxID09ICdkYWlseScpID8g
J2RheV9fJyA6ICR0aGlzLT5mcmVxOwogICAgICAgICR0ID0gJysnIC4gJGludGVydmFsIC4g
JyAnIC4gc3Vic3RyKCRfZnJlcSwwLC0yKSAuICdzJzsKICAgICAgICBpZiAoJF9mcmVxID09
ICdtb250aGx5JyAmJiAkdHJ1bmNhdGUpIHsKICAgICAgICAgICAgaWYgKCRpbnRlcnZhbCA+
IDEpIHsKICAgICAgICAgICAgICAgICRvZmZzZXQgPSBzdHJ0b3RpbWUoJysnIC4gKCRpbnRl
cnZhbCAtIDEpIC4gJyBtb250aHMgJywgJG9mZnNldCk7CiAgICAgICAgICAgIH0KICAgICAg
ICAgICAgJHQgPSAnKycgLiAoZGF0ZSgndCcsICRvZmZzZXQpIC0gZGF0ZSgnZCcsICRvZmZz
ZXQpICsgMSkgLiAnIGRheXMnOwogICAgICAgIH0KCiAgICAgICAgJHNwID0gc3RydG90aW1l
KCR0LCAkb2Zmc2V0KTsKCiAgICAgICAgaWYgKCR0cnVuY2F0ZSkgewogICAgICAgICAgICAk
c3AgPSAkdGhpcy0+dHJ1bmNhdGVUb1BlcmlvZCgkc3AsICR0aGlzLT5mcmVxKTsKICAgICAg
ICB9CgogICAgICAgIHJldHVybiAkc3A7CiAgICB9CgogICAgLyoqCiAgICAgKiBGaW5kcyB0
aGUgZWFybGllc3QgdGltZXN0YW1wIHBvc2libGUgb3V0c2lkZSB0aGlzIHBlcmlvaWQKICAg
ICAqIEBwYXJhbSAgaW50ICRvZmZzZXQKICAgICAqIEByZXR1cm4gaW50CiAgICAgKi8KICAg
IHB1YmxpYyBmdW5jdGlvbiBmaW5kRW5kT2ZQZXJpb2QoJG9mZnNldCkKICAgIHsKICAgICAg
ICByZXR1cm4gJHRoaXMtPmZpbmRTdGFydGluZ1BvaW50KCRvZmZzZXQsIDEpOwogICAgfQoK
ICAgIC8qKgogICAgICogUmVzZXRzIHRoZSB0aW1lc3RhbXAgdG8gdGhlIGJlZ2lubmluZyBv
ZiB0aGUKICAgICAqIHBlcmlvZCBzcGVjaWZpZWQgYnkgZnJlcQogICAgICoKICAgICAqIFll
cyAtIHRoZSBmYWxsLXRocm91Z2ggaXMgb24gcHVycG9zZSEKICAgICAqCiAgICAgKiBAcGFy
YW0gIGludCAkdGltZQogICAgICogQHBhcmFtICBpbnQgJGZyZXEKICAgICAqIEByZXR1cm4g
aW50CiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gdHJ1bmNhdGVUb1BlcmlvZCggJHRp
bWUsICRmcmVxICkKICAgIHsKICAgICAgICAkZGF0ZSA9IGdldGRhdGUoJHRpbWUpOwogICAg
ICAgIHN3aXRjaCAoJGZyZXEpIHsKICAgICAgICAgICAgY2FzZSAieWVhcmx5IjoKICAgICAg
ICAgICAgICAgICRkYXRlWydtb24nXSA9IDE7CiAgICAgICAgICAgIGNhc2UgIm1vbnRobHki
OgogICAgICAgICAgICAgICAgJGRhdGVbJ21kYXknXSA9IDE7CiAgICAgICAgICAgIGNhc2Ug
ImRhaWx5IjoKICAgICAgICAgICAgICAgICRkYXRlWydob3VycyddID0gMDsKICAgICAgICAg
ICAgY2FzZSAnaG91cmx5JzoKICAgICAgICAgICAgICAgICRkYXRlWydtaW51dGVzJ10gPSAw
OwogICAgICAgICAgICBjYXNlICJtaW51dGVseSI6CiAgICAgICAgICAgICAgICAkZGF0ZVsn
c2Vjb25kcyddID0gMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNl
ICJ3ZWVrbHkiOgogICAgICAgICAgICAgICAgaWYgKCBkYXRlKCdOJywgJHRpbWUpID09IDEp
IHsKICAgICAgICAgICAgICAgICAgICAkZGF0ZVsnaG91cnMnXSA9IDA7CiAgICAgICAgICAg
ICAgICAgICAgJGRhdGVbJ21pbnV0ZXMnXSA9IDA7CiAgICAgICAgICAgICAgICAgICAgJGRh
dGVbJ3NlY29uZHMnXSA9IDA7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAg
ICAgICAgICAgICRkYXRlID0gZ2V0ZGF0ZShzdHJ0b3RpbWUoImxhc3QgbW9uZGF5IDA6MDAi
LCAkdGltZSkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYnJlYWs7CiAg
ICAgICAgfQogICAgICAgICRkID0gbWt0aW1lKCRkYXRlWydob3VycyddLCAkZGF0ZVsnbWlu
dXRlcyddLCAkZGF0ZVsnc2Vjb25kcyddLCAkZGF0ZVsnbW9uJ10sICRkYXRlWydtZGF5J10s
ICRkYXRlWyd5ZWFyJ10pOwoKICAgICAgICByZXR1cm4gJGQ7CiAgICB9CgogICAgLyoqCiAg
ICAgKiBBcHBsaWVzIHRoZSBCWURBWSBydWxlIHRvIHRoZSBnaXZlbiB0aW1lc3RhbXAKICAg
ICAqIEBwYXJhbSAgc3RyaW5nICRydWxlCiAgICAgKiBAcGFyYW0gIGludCAgICAkdAogICAg
ICogQHJldHVybiBpbnQKICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBydWxlQnlkYXko
JHJ1bGUsICR0KQogICAgewogICAgICAgICRydWxlID0gc3RyX3JlcGxhY2UoJyInLCAnJywg
JHJ1bGUpOwogICAgICAgICRkaXIgPSAoJHJ1bGV7MH0gPT0gJy0nKSA/IC0xIDogMTsKICAg
ICAgICAkZGlyX3QgPSAoJGRpciA9PSAxKSA/ICduZXh0JyA6ICdsYXN0JzsKCiAgICAgICAg
JGQgPSAkdGhpcy0+d2Vla2RheXNbc3Vic3RyKCRydWxlLC0yKV07CiAgICAgICAgJHMgPSAk
ZGlyX3QgLiAnICcgLiAkZCAuICcgJyAuIGRhdGUoJ0g6aTpzJywkdCk7CgogICAgICAgIGlm
ICggJHJ1bGUgPT0gc3Vic3RyKCRydWxlLCAtMikgKSB7CiAgICAgICAgICAgIGlmICggZGF0
ZSgnbCcsICR0KSA9PSB1Y2ZpcnN0KCRkKSApIHsKICAgICAgICAgICAgICAgICRzID0gJ3Rv
ZGF5ICcgLiBkYXRlKCdIOmk6cycsJHQpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAk
X3QgPSBzdHJ0b3RpbWUoJHMsICR0KTsKCiAgICAgICAgICAgIGlmICggJF90ID09ICR0ICYm
IGluX2FycmF5KCR0aGlzLT5mcmVxLCBhcnJheSgnbW9udGhseScsICd5ZWFybHknKSkgKSB7
CiAgICAgICAgICAgICAgICAvLyBZZXMuIFRoaXMgaXMgbm90IGEgZ3JlYXQgaWRlYS4uIGJ1
dCBoZXksIGl0IHdvcmtzLi4gZm9yIG5vdwogICAgICAgICAgICAgICAgJHMgPSAnbmV4dCAn
IC4gJGQgLiAnICcgLiBkYXRlKCdIOmk6cycsJHQpOwogICAgICAgICAgICAgICAgJF90ID0g
c3RydG90aW1lKCRzLCAkX3QpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4g
JF90OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRfZiA9ICR0aGlzLT5mcmVxOwog
ICAgICAgICAgICBpZiAoIGlzc2V0KCR0aGlzLT5ydWxlc1snYnltb250aCddKSAmJiAkdGhp
cy0+ZnJlcSA9PSAneWVhcmx5JyApIHsKICAgICAgICAgICAgICAgICR0aGlzLT5mcmVxID0g
J21vbnRobHknOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkZGlyID09IC0xKSB7
CiAgICAgICAgICAgICAgICAkX3QgPSAkdGhpcy0+ZmluZEVuZE9mUGVyaW9kKCR0KTsKICAg
ICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICRfdCA9ICR0aGlzLT50cnVuY2F0
ZVRvUGVyaW9kKCR0LCAkdGhpcy0+ZnJlcSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg
JHRoaXMtPmZyZXEgPSAkX2Y7CgogICAgICAgICAgICAkYyA9IHByZWdfcmVwbGFjZSgnL1te
MC05XS8nLCcnLCRydWxlKTsKICAgICAgICAgICAgJGMgPSAoJGMgPT0gJycpID8gMSA6ICRj
OwoKICAgICAgICAgICAgJG4gPSAkX3Q7CiAgICAgICAgICAgIHdoaWxlICgkYyA+IDApIHsK
ICAgICAgICAgICAgICAgIGlmICggJGRpciA9PSAxICYmICRjID09IDEgJiYgZGF0ZSgnbCcs
ICR0KSA9PSB1Y2ZpcnN0KCRkKSApIHsKICAgICAgICAgICAgICAgICAgICAkcyA9ICd0b2Rh
eSAnIC4gZGF0ZSgnSDppOnMnLCR0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAg
ICAgICRuID0gc3RydG90aW1lKCRzLCAkbik7CiAgICAgICAgICAgICAgICAkYy0tOwogICAg
ICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gJG47CiAgICAgICAgfQogICAgfQoKICAg
IHByaXZhdGUgZnVuY3Rpb24gcnVsZUJ5bW9udGgoJHJ1bGUsICR0KQogICAgewogICAgICAg
ICRfdCA9IG1rdGltZShkYXRlKCdIJywkdCksIGRhdGUoJ2knLCR0KSwgZGF0ZSgncycsJHQp
LCAkcnVsZSwgZGF0ZSgnZCcsICR0KSwgZGF0ZSgnWScsICR0KSk7CiAgICAgICAgaWYgKCAk
dCA9PSAkX3QgJiYgaXNzZXQoJHRoaXMtPnJ1bGVzWydieWRheSddKSApIHsKICAgICAgICAg
ICAgLy8gVE9ETzogdGhpcyBzaG91bGQgY2hlY2sgaWYgb25lIG9mIHRoZSBieSpkYXkncyBl
eGlzdHMsIGFuZCBoYXZlIGEgbXVsdGktZGF5IHZhbHVlCiAgICAgICAgICAgIHJldHVybiBm
YWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gJF90OwogICAgICAg
IH0KICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIHJ1bGVCeW1vbnRoZGF5KCRydWxlLCAk
dCkKICAgIHsKICAgICAgICBpZiAoJHJ1bGUgPCAwKSB7CiAgICAgICAgICAgICRydWxlID0g
ZGF0ZSgndCcsICR0KSArICRydWxlICsgMTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBt
a3RpbWUoZGF0ZSgnSCcsJHQpLCBkYXRlKCdpJywkdCksIGRhdGUoJ3MnLCR0KSwgZGF0ZSgn
bScsICR0KSwgJHJ1bGUsIGRhdGUoJ1knLCAkdCkpOwogICAgfQoKICAgIHByaXZhdGUgZnVu
Y3Rpb24gcnVsZUJ5eWVhcmRheSgkcnVsZSwgJHQpCiAgICB7CiAgICAgICAgaWYgKCRydWxl
IDwgMCkgewogICAgICAgICAgICAkX3QgPSAkdGhpcy0+ZmluZEVuZE9mUGVyaW9kKCk7CiAg
ICAgICAgICAgICRkID0gJy0nOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRfdCA9
ICR0aGlzLT50cnVuY2F0ZVRvUGVyaW9kKCR0LCAkdGhpcy0+ZnJlcSk7CiAgICAgICAgICAg
ICRkID0gJysnOwogICAgICAgIH0KICAgICAgICAkcyA9ICRkIC4gYWJzKCRydWxlIC0xKSAu
ICcgZGF5cyAnIC4gZGF0ZSgnSDppOnMnLCR0KTsKCiAgICAgICAgcmV0dXJuIHN0cnRvdGlt
ZSgkcywgJF90KTsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIHJ1bGVCeXdlZWtubygk
cnVsZSwgJHQpCiAgICB7CiAgICAgICAgaWYgKCRydWxlIDwgMCkgewogICAgICAgICAgICAk
X3QgPSAkdGhpcy0+ZmluZEVuZE9mUGVyaW9kKCk7CiAgICAgICAgICAgICRkID0gJy0nOwog
ICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRfdCA9ICR0aGlzLT50cnVuY2F0ZVRvUGVy
aW9kKCR0LCAkdGhpcy0+ZnJlcSk7CiAgICAgICAgICAgICRkID0gJysnOwogICAgICAgIH0K
CiAgICAgICAgJHN1YiA9IChkYXRlKCdXJywgJF90KSA9PSAxKSA/IDIgOiAxOwogICAgICAg
ICRzID0gJGQgLiBhYnMoJHJ1bGUgLSAkc3ViKSAuICcgd2Vla3MgJyAuIGRhdGUoJ0g6aTpz
JywkdCk7CiAgICAgICAgJF90ICA9IHN0cnRvdGltZSgkcywgJF90KTsKCiAgICAgICAgcmV0
dXJuICRfdDsKICAgIH0KCiAgICBwcml2YXRlIGZ1bmN0aW9uIHJ1bGVCeWhvdXIoJHJ1bGUs
ICR0KQogICAgewogICAgICAgICRfdCA9IG1rdGltZSgkcnVsZSwgZGF0ZSgnaScsJHQpLCBk
YXRlKCdzJywkdCksIGRhdGUoJ20nLCR0KSwgZGF0ZSgnZCcsICR0KSwgZGF0ZSgnWScsICR0
KSk7CgogICAgICAgIHJldHVybiAkX3Q7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBy
dWxlQnltaW51dGUoJHJ1bGUsICR0KQogICAgewogICAgICAgICRfdCA9IG1rdGltZShkYXRl
KCdoJywkdCksICRydWxlLCBkYXRlKCdzJywkdCksIGRhdGUoJ20nLCR0KSwgZGF0ZSgnZCcs
ICR0KSwgZGF0ZSgnWScsICR0KSk7CgogICAgICAgIHJldHVybiAkX3Q7CiAgICB9CgogICAg
cHJpdmF0ZSBmdW5jdGlvbiB2YWxpZERhdGUoICR0ICkKICAgIHsKICAgICAgICBpZiAoIGlz
c2V0KCR0aGlzLT5ydWxlc1sndW50aWwnXSkgJiYgJHQgPiAkdGhpcy0+cnVsZXNbJ3VudGls
J10gKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGlm
ICghaXNfYXJyYXkoJHRoaXMtPmV4Y2x1ZGVkKSkgewogICAgICAgICAgICAkdGhpcy0+ZXhj
bHVkZWQgPSAoYXJyYXkpJHRoaXMtPmV4Y2x1ZGVkOwogICAgICAgIH0KICAgICAgICBpZiAo
aW5fYXJyYXkoJHQsICR0aGlzLT5leGNsdWRlZCkpIHsKICAgICAgICAgICAgcmV0dXJuIGZh
bHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKCBpc3NldCgkdGhpcy0+cnVsZXNbJ2J5bW9u
dGgnXSkgKSB7CiAgICAgICAgICAgICRtb250aHMgPSBleHBsb2RlKCcsJywgJHRoaXMtPnJ1
bGVzWydieW1vbnRoJ10pOwogICAgICAgICAgICBpZiAoICFpbl9hcnJheShkYXRlKCdtJywg
JHQpLCAkbW9udGhzKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAg
ICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICggaXNzZXQoJHRoaXMtPnJ1bGVzWydieWRh
eSddKSApIHsKICAgICAgICAgICAgJGRheXMgPSBleHBsb2RlKCcsJywgJHRoaXMtPnJ1bGVz
WydieWRheSddKTsKICAgICAgICAgICAgZm9yZWFjaCAoJGRheXMgQXMgJGkgPT4gJGspIHsK
ICAgICAgICAgICAgICAgICRkYXlzWyRpXSA9ICR0aGlzLT53ZWVrZGF5c1sgcHJlZ19yZXBs
YWNlKCcvW15BLVpdLycsICcnLCAkayldOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlm
ICggIWluX2FycmF5KHN0cnRvbG93ZXIoZGF0ZSgnbCcsICR0KSksICRkYXlzKSkgewogICAg
ICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAg
ICAgIGlmICggaXNzZXQoJHRoaXMtPnJ1bGVzWydieXdlZWtubyddKSApIHsKICAgICAgICAg
ICAgJHdlZWtzID0gZXhwbG9kZSgnLCcsICR0aGlzLT5ydWxlc1snYnl3ZWVrbm8nXSk7CiAg
ICAgICAgICAgIGlmICggIWluX2FycmF5KGRhdGUoJ1cnLCAkdCksICR3ZWVrcykpIHsKICAg
ICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAg
ICAgICBpZiAoIGlzc2V0KCR0aGlzLT5ydWxlc1snYnltb250aGRheSddKSkgewogICAgICAg
ICAgICAkd2Vla2RheXMgPSBleHBsb2RlKCcsJywgJHRoaXMtPnJ1bGVzWydieW1vbnRoZGF5
J10pOwogICAgICAgICAgICBmb3JlYWNoICgkd2Vla2RheXMgQXMgJGkgPT4gJGspIHsKICAg
ICAgICAgICAgICAgIGlmICgkayA8IDApIHsKICAgICAgICAgICAgICAgICAgICAkd2Vla2Rh
eXNbJGldID0gZGF0ZSgndCcsICR0KSArICRrICsgMTsKICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgfQogICAgICAgICAgICBpZiAoICFpbl9hcnJheShkYXRlKCdkJywgJHQpLCAk
d2Vla2RheXMpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAg
IH0KICAgICAgICB9CiAgICAgICAgaWYgKCBpc3NldCgkdGhpcy0+cnVsZXNbJ2J5aG91cidd
KSApIHsKICAgICAgICAgICAgJGhvdXJzID0gZXhwbG9kZSgnLCcsICR0aGlzLT5ydWxlc1sn
Ynlob3VyJ10pOwogICAgICAgICAgICBpZiAoICFpbl9hcnJheShkYXRlKCdIJywgJHQpLCAk
aG91cnMpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0K
ICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgfQoKICAgIHByaXZhdGUgZnVu
Y3Rpb24gaXNQcmVydWxlKCRydWxlLCAkZnJlcSkKICAgIHsKICAgICAgICBpZiggJHJ1bGUg
PT0gJ3llYXInKQoKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGlmKCAkcnVs
ZSA9PSAnbW9udGgnICYmICRmcmVxID09ICd5ZWFybHknKQoKICAgICAgICAgICAgcmV0dXJu
IHRydWU7CiAgICAgICAgaWYoICRydWxlID09ICdtb250aGRheScgJiYgaW5fYXJyYXkoJGZy
ZXEsIGFycmF5KCd5ZWFybHknLCAnbW9udGhseScpKSAmJiAhaXNzZXQoJHRoaXMtPnJ1bGVz
WydieWRheSddKSkKCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIC8vIFRPRE86
IGlzIGl0IGZhc3RlciB0byBkbyBtb250aGRheSBmaXJzdCwgYW5kIGlnbm9yZSBkYXkgaWYg
bW9udGhkYXkgZXhpc3RzPyAtIHByb2xseSBieSBhIGZhY3RvciBvZiA0Li4KICAgICAgICBp
ZiggJHJ1bGUgPT0gJ3llYXJkYXknICYmICRmcmVxID09ICd5ZWFybHknICkKCiAgICAgICAg
ICAgIHJldHVybiB0cnVlOwogICAgICAgIGlmKCAkcnVsZSA9PSAnd2Vla25vJyAmJiAkZnJl
cSA9PSAneWVhcmx5JyApCgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBpZigg
JHJ1bGUgPT0gJ2RheScgJiYgaW5fYXJyYXkoJGZyZXEsIGFycmF5KCd5ZWFybHknLCAnbW9u
dGhseScsICd3ZWVrbHknKSkpCgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICBp
ZiggJHJ1bGUgPT0gJ2hvdXInICYmIGluX2FycmF5KCRmcmVxLCBhcnJheSgneWVhcmx5Jywg
J21vbnRobHknLCAnd2Vla2x5JywgJ2RhaWx5JykpKQoKICAgICAgICAgICAgcmV0dXJuIHRy
dWU7CiAgICAgICAgaWYoICRydWxlID09ICdtaW51dGUnICkKCiAgICAgICAgICAgIHJldHVy
biB0cnVlOwoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9Cn0KCi8vIG5hbWVzcGFjZSBU
S3JcSUNhbDsKCi8vIHVzZSBcQXJyYXlBY2Nlc3M7Ci8vIHVzZSBBcnJheUl0ZXJhdG9yOwov
LyB1c2UgXENvdW50YWJsZTsKLy8gdXNlIFxJdGVyYXRvckFnZ3JlZ2F0ZTsKCi8qKgogKiBB
IGNsYXNzIGZvciBzdG9yaW5nIGEgc2luZ2xlIChjb21wbGV0ZSkgbGluZSBvZiB0aGUgSUNh
bCBmaWxlLgogKiBXaWxsIGZpbmQgdGhlIGxpbmUtdHlwZSwgdGhlIGFyZ3VtZW50cyBhbmQg
dGhlIGRhdGEgb2YgdGhlIGZpbGUgYW5kCiAqIHN0b3JlIHRoZW0uCiAqCiAqIFRoZSBsaW5l
LXR5cGUgY2FuIGJlIGZvdW5kIGJ5IHF1ZXJ5aW5nIGdldElkZW50KCksIGRhdGEgdmlhIGVp
dGhlcgogKiBnZXREYXRhKCkgb3IgdHlwZWNhc3RpbmcgdG8gYSBzdHJpbmcuCiAqIFBhcmFt
cyBjYW4gYmUgYWNjZXNzIHZpYSB0aGUgQXJyYXlBY2Nlc3MuIEEgaXRlcmF0b3IgaXMgYWxz
byBhdmlsYWJsZQogKiB0byBpdGVyYXRvciBvdmVyIHRoZSBwYXJhbXMuCiAqCiAqIEBhdXRo
b3IgTW9ydGVuIEZhbmdlbCAoQykgMjAwOAogKiBAYXV0aG9yIE1pY2hhZWwgS2FobiAoQykg
MjAxMwogKiBAbGljZW5zZSBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9i
eS1zYS8yLjUvZGsvZGVlZC5lbl9HQiBDQy1CWS1TQS1ESwogKi8KY2xhc3MgTGluZSBpbXBs
ZW1lbnRzIEFycmF5QWNjZXNzLCBDb3VudGFibGUsIEl0ZXJhdG9yQWdncmVnYXRlCnsKICAg
IHByb3RlY3RlZCAkaWRlbnQ7CiAgICBwcm90ZWN0ZWQgJGRhdGE7CiAgICBwcm90ZWN0ZWQg
JHBhcmFtcyA9IGFycmF5KCk7CgogICAgcHJvdGVjdGVkICRyZXBsYWNlbWVudHMgPSBhcnJh
eSgnZnJvbSc9PmFycmF5KCdcXCwnLCAnXFxuJywgJ1xcOycsICdcXDonLCAnXFwiJyksICd0
byc9PmFycmF5KCcsJywgIlxuIiwgJzsnLCAnOicsICciJykpOwoKICAgIC8qKgogICAgICog
Q29uc3RydWN0cyBhIG5ldyBsaW5lLgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gX19j
b25zdHJ1Y3QoICRsaW5lICkKICAgIHsKICAgICAgICAkc3BsaXQgPSBzdHJwb3MoJGxpbmUs
ICc6Jyk7CiAgICAgICAgJGlkZW50cyA9IGV4cGxvZGUoJzsnLCBzdWJzdHIoJGxpbmUsIDAs
ICRzcGxpdCkpOwogICAgICAgICRpZGVudCA9IHN0cnRvbG93ZXIoYXJyYXlfc2hpZnQoJGlk
ZW50cykpOwoKICAgICAgICAkZGF0YSA9IHRyaW0oc3Vic3RyKCRsaW5lLCAkc3BsaXQrMSkp
OwogICAgICAgICRkYXRhID0gc3RyX3JlcGxhY2UoJHRoaXMtPnJlcGxhY2VtZW50c1snZnJv
bSddLCAkdGhpcy0+cmVwbGFjZW1lbnRzWyd0byddLCAkZGF0YSk7CgogICAgICAgICRwYXJh
bXMgPSBhcnJheSgpOwogICAgICAgIGZvcmVhY2ggKCRpZGVudHMgQVMgJHYpIHsKICAgICAg
ICAgICAgbGlzdCgkaywgJHYpID0gZXhwbG9kZSgnPScsICR2KTsKICAgICAgICAgICAgJHBh
cmFtc1sgc3RydG9sb3dlcigkaykgXSA9ICR2OwogICAgICAgIH0KCiAgICAgICAgJHRoaXMt
PmlkZW50ID0gJGlkZW50OwogICAgICAgICR0aGlzLT5wYXJhbXMgPSAkcGFyYW1zOwogICAg
ICAgICR0aGlzLT5kYXRhID0gJGRhdGE7CiAgICB9CgogICAgLyoqCiAgICAgKiBJcyB0aGlz
IGxpbmUgdGhlIGJlZ2luaW5nIG9mIGEgbmV3IGJsb2NrPwogICAgICogQHJldHVybiBib29s
CiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBpc0JlZ2luKCkKICAgIHsKICAgICAgICBy
ZXR1cm4gJHRoaXMtPmlkZW50ID09ICdiZWdpbic7CiAgICB9CgogICAgLyoqCiAgICAgKiBJ
cyB0aGlzIGxpbmUgdGhlIGVuZCBvZiBhIGJsb2NrPwogICAgICogQHJldHVybiBib29sCiAg
ICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBpc0VuZCgpCiAgICB7CiAgICAgICAgcmV0dXJu
ICR0aGlzLT5pZGVudCA9PSAnZW5kJzsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMg
dGhlIGxpbmUtdHlwZSAoaWRlbnQpIG9mIHRoZSBsaW5lCiAgICAgKiBAcmV0dXJuIHN0cmlu
ZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0SWRlbnQoKQogICAgewogICAgICAg
IHJldHVybiAkdGhpcy0+aWRlbnQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRo
ZSBjb250ZW50IG9mIHRoZSBsaW5lCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAg
ICBwdWJsaWMgZnVuY3Rpb24gZ2V0RGF0YSgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlz
LT5kYXRhOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgY29udGVudCBvZiB0
aGUgbGluZQogICAgICogQHJldHVybiBzdHJpbmcKICAgICAqLwogICAgcHVibGljIGZ1bmN0
aW9uIGdldERhdGFBc0FycmF5KCkKICAgIHsKICAgICAgICBpZiAoc3RycG9zKCR0aGlzLT5k
YXRhLCIsIikgIT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBleHBsb2RlKCIsIiwk
dGhpcy0+ZGF0YSk7CiAgICAgICAgfSBlbHNlCgogICAgICAgICAgICByZXR1cm4gYXJyYXko
JHRoaXMtPmRhdGEpOwogICAgfQoKICAgIC8qKgogICAgICogQSBzdGF0aWMgaGVscGVyIHRv
IGdldCBhIGFycmF5IG9mIGludG91Y2hcaWNhbFxMaW5lJ3MsIGFuZCBjYWxscwogICAgICog
Z2V0RGF0YSgpIG9uIGVhY2ggb2YgdGhlbSB0byBsYXkgdGhlIGRhdGEgImJhcmUiLi4KICAg
ICAqCiAgICAgKiBAcGFyYW0gaW50b3VjaFxpY2FsXExpbmVbXQogICAgICogQHJldHVybiBh
cnJheQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIFJlbW92ZV9MaW5lKCRh
cnIpCiAgICB7CiAgICAgICAgJHJ0biA9IGFycmF5KCk7CiAgICAgICAgZm9yZWFjaCAoJGFy
ciBBUyAkayA9PiAkdikgewogICAgICAgICAgICBpZiAoaXNfYXJyYXkoJHYpKSB7CiAgICAg
ICAgICAgICAgICAkcnRuWyRrXSA9IHNlbGY6OlJlbW92ZV9MaW5lKCR2KTsKICAgICAgICAg
ICAgfSBlbHNlaWYgKCR2IGluc3RhbmNlb2YgTGluZSkgewogICAgICAgICAgICAgICAgJHJ0
blska10gPSAkdi0+Z2V0RGF0YSgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAg
ICAgICAgJHJ0blska10gPSAkdjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAg
cmV0dXJuICRydG47CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2VlIEFycmF5QWNjZXNzLm9m
ZnNldEV4aXN0cwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gb2Zmc2V0RXhpc3RzKCAk
cGFyYW0gKQogICAgewogICAgICAgIHJldHVybiBpc3NldCgkdGhpcy0+cGFyYW1zWyBzdHJ0
b2xvd2VyKCRwYXJhbSkgXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2VlIEFycmF5QWNj
ZXNzLm9mZnNldEdldAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gb2Zmc2V0R2V0KCAk
cGFyYW0gKQogICAgewogICAgICAgICRpbmRleCA9IHN0cnRvbG93ZXIoJHBhcmFtKTsKICAg
ICAgICBpZiAoaXNzZXQoJHRoaXMtPnBhcmFtc1sgJGluZGV4IF0pKSB7CiAgICAgICAgICAg
IHJldHVybiAkdGhpcy0+cGFyYW1zWyAkaW5kZXggXTsKICAgICAgICB9CiAgICB9CgogICAg
LyoqCiAgICAgKiBEaXNhYmxlZCBBcnJheUFjY2VzcyByZXF1aXJlbWVudAogICAgICogQHNl
ZSBBcnJheUFjY2Vzcy5vZmZzZXRTZXQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIG9m
ZnNldFNldCggJHBhcmFtLCAkdmFsICkKICAgIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg
ICB9CgogICAgLyoqCiAgICAgKiBEaXNhYmxlZCBBcnJheUFjY2VzcyByZXF1aXJlbWVudAog
ICAgICogQHNlZSBBcnJheUFjY2Vzcy5vZmZzZXRVbnNldAogICAgICovCiAgICBwdWJsaWMg
ZnVuY3Rpb24gb2Zmc2V0VW5zZXQoICRwYXJhbSApCiAgICB7CiAgICAgICAgcmV0dXJuIGZh
bHNlOwogICAgfQoKICAgIC8qKgogICAgICogdG9TdHJpbmcgbWV0aG9kLgogICAgICogQHNl
ZSBnZXREYXRhKCkKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9fdG9TdHJpbmcoKQog
ICAgewogICAgICAgIHJldHVybiAkdGhpcy0+Z2V0RGF0YSgpOwogICAgfQoKICAgIC8qKgog
ICAgICogQHNlZSBDb3VudGFibGUuY291bnQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9u
IGNvdW50KCkKICAgIHsKICAgICAgICByZXR1cm4gY291bnQoJHRoaXMtPnBhcmFtcyk7CiAg
ICB9CgogICAgLyoqCiAgICAgKiBAc2VlIEl0ZXJhdG9yQWdncmVnYXRlLmdldEl0ZXJhdG9y
CiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRJdGVyYXRvcigpCiAgICB7CiAgICAg
ICAgcmV0dXJuIG5ldyBBcnJheUl0ZXJhdG9yKCR0aGlzLT5wYXJhbXMpOwogICAgfQp9Cgov
LyBuYW1lc3BhY2UgVEtyXElDYWw7CgovKioKICogQ2xhc3MgUGFyc2VyCiAqCiAqIEBhdXRo
b3IgTW9ydGVuIEZhbmdlbCAoQykgMjAwOAogKiBAYXV0aG9yIE1pY2hhZWwgS2FobiAoQykg
MjAxMwogKiBAbGljZW5zZSBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9i
eS1zYS8yLjUvZGsvZGVlZC5lbl9HQiBDQy1CWS1TQS1ESwogKi8KY2xhc3MgUGFyc2VyCnsK
ICAgIC8qKgogICAgICogRmV0Y2hlcyAkdXJsIGFuZCBwYXNzZXMgaXQgb24gdG8gYmUgcGFy
c2VkCiAgICAgKiBAcGFyYW0gc3RyaW5nICR1cmwKICAgICAqIEBwYXJhbSBJQ2FsICRpY2Fs
CiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gUGFyc2UoICR1cmwsIElDYWwg
JGljYWwgKQogICAgewogICAgICAgICRjb250ZW50ID0gc2VsZjo6RmV0Y2goICR1cmwgKTsK
ICAgICAgICAkY29udGVudCA9IHNlbGY6OlVuZm9sZExpbmVzKCRjb250ZW50KTsKICAgICAg
ICBzZWxmOjpfUGFyc2UoICRjb250ZW50LCAkaWNhbCApOwogICAgfQoKICAgIC8qKgogICAg
ICogUGFzc2VzIGEgdGV4dCBzdHJpbmcgb24gdG8gYmUgcGFyc2VkCiAgICAgKiBAcGFyYW0g
c3RyaW5nICAgICAgICAgICAgJGNvbnRlbnQKICAgICAqIEBwYXJhbSBJQ2FsICRpY2FsCiAg
ICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gUGFyc2VTdHJpbmcoJGNvbnRlbnQs
IElDYWwgJGljYWwgKQogICAgewogICAgICAgICRjb250ZW50ID0gc2VsZjo6VW5mb2xkTGlu
ZXMoJGNvbnRlbnQpOwogICAgICAgIHNlbGY6Ol9QYXJzZSggJGNvbnRlbnQsICRpY2FsICk7
CiAgICB9CgogICAgLyoqCiAgICAgKiBGZXRjaGVzIGEgcmVzb3VyY2UgYW5kIHRyaWVzIHRv
IG1ha2Ugc3VyZSBpdCdzIFVURjgKICAgICAqIGVuY29kZWQKICAgICAqIEByZXR1cm4gc3Ry
aW5nCiAgICAgKi8KICAgIHByb3RlY3RlZCBzdGF0aWMgZnVuY3Rpb24gRmV0Y2goICRyZXNv
dXJjZSApCiAgICB7CiAgICAgICAgJGlzX3V0ZjggPSB0cnVlOwoKICAgICAgICBpZiAoIGlz
X2ZpbGUoICRyZXNvdXJjZSApICkgewogICAgICAgICAgICAvLyBUaGUgcmVzb3VyY2UgaXMg
YSBsb2NhbCBmaWxlCiAgICAgICAgICAgICRjb250ZW50ID0gZmlsZV9nZXRfY29udGVudHMo
JHJlc291cmNlKTsKCiAgICAgICAgICAgIGlmICggISBzZWxmOjpfVmFsaWRVdGY4KCAkY29u
dGVudCApICkgewogICAgICAgICAgICAgICAgLy8gVGhlIGZpbGUgZG9lc24ndCBhcHBlYXIg
dG8gYmUgVVRGOAogICAgICAgICAgICAgICAgJGlzX3V0ZjggPSBmYWxzZTsKICAgICAgICAg
ICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIFRoZSByZXNvdXJjZSBpc24n
dCBsb2NhbCwgc28gaXQncyBhc3N1bWVkIHRvCiAgICAgICAgICAgIC8vIGJlIGEgVVJMCiAg
ICAgICAgICAgICRjID0gY3VybF9pbml0KCk7CiAgICAgICAgICAgIGN1cmxfc2V0b3B0KCRj
LCBDVVJMT1BUX1VSTCwgJHJlc291cmNlKTsKICAgICAgICAgICAgY3VybF9zZXRvcHQoJGMs
IENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOwogICAgICAgICAgICBpZiAoICFpbmlf
Z2V0KCdzYWZlX21vZGUnKSAmJiAhaW5pX2dldCgnb3Blbl9iYXNlZGlyJykgKSB7CiAgICAg
ICAgICAgICAgICBjdXJsX3NldG9wdCgkYywgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgdHJ1
ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJGNvbnRlbnQgPSBjdXJsX2V4ZWMoJGMp
OwoKICAgICAgICAgICAgJGN0ID0gY3VybF9nZXRpbmZvKCRjLCBDVVJMSU5GT19DT05URU5U
X1RZUEUpOwogICAgICAgICAgICAkZW5jID0gcHJlZ19yZXBsYWNlKCcvXi4qY2hhcnNldD0o
Wy1hLXpBLVowLTldKykuKiQvJywgJyQxJywgJGN0KTsKICAgICAgICAgICAgaWYgKCAkY3Qg
IT0gJycgJiYgc3RydG9sb3dlcihzdHJfcmVwbGFjZSgnLScsJycsICRlbmMpKSAhPSAndXRm
OCcgKSB7CiAgICAgICAgICAgICAgICAvLyBXZWxsLCB0aGUgZW5jb2Rpbmcgc2F5cyBpdCBh
aW4ndCB1dGYtOAogICAgICAgICAgICAgICAgJGlzX3V0ZjggPSBmYWxzZTsKICAgICAgICAg
ICAgfSBlbHNlaWYgKCAhIHNlbGY6Ol9WYWxpZFV0ZjgoICRjb250ZW50ICkgKSB7CiAgICAg
ICAgICAgICAgICAvLyBUaGUgZGF0YSBpc24ndCB1dGYtOAogICAgICAgICAgICAgICAgJGlz
X3V0ZjggPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKCEk
aXNfdXRmOCkgewogICAgICAgICAgICAkY29udGVudCA9IHV0ZjhfZW5jb2RlKCRjb250ZW50
KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkY29udGVudDsKICAgIH0KCiAgICAvKioK
ICAgICAqIFRha2VzIHRoZSBzdHJpbmcgJGNvbnRlbnQsIGFuZCBjcmVhdGVzIGEgYXJyYXkg
b2YgSUNhbCBsaW5lcy4KICAgICAqIFRoaXMgaW5jbHVkZXMgdW5mb2xkaW5nIG11bHRpLWxp
bmUgZW50cmllcyBpbnRvIGEgc2luZ2xlIGxpbmUuCiAgICAgKiBAcGFyYW0gJGNvbnRlbnQg
c3RyaW5nCiAgICAgKi8KICAgIHByb3RlY3RlZCBzdGF0aWMgZnVuY3Rpb24gVW5mb2xkTGlu
ZXMoJGNvbnRlbnQpCiAgICB7CiAgICAgICAgJGRhdGEgPSBhcnJheSgpOwogICAgICAgICRj
b250ZW50ID0gZXhwbG9kZSgiXG4iLCAkY29udGVudCk7CiAgICAgICAgZm9yICggJGk9MDsg
JGkgPCBjb3VudCgkY29udGVudCk7ICRpKyspIHsKICAgICAgICAgICAgJGxpbmUgPSBydHJp
bSgkY29udGVudFskaV0pOwogICAgICAgICAgICB3aGlsZSAoIGlzc2V0KCRjb250ZW50WyRp
KzFdKSAmJiBzdHJsZW4oJGNvbnRlbnRbJGkrMV0pID4gMCAmJiAoJGNvbnRlbnRbJGkrMV17
MH0gPT0gJyAnIHx8ICRjb250ZW50WyRpKzFdezB9ID09ICJcdCIgKSkgewogICAgICAgICAg
ICAgICAgJGxpbmUgLj0gcnRyaW0oc3Vic3RyKCRjb250ZW50WysrJGldLDEpKTsKICAgICAg
ICAgICAgfQogICAgICAgICAgICAkZGF0YVtdID0gJGxpbmU7CiAgICAgICAgfQoKICAgICAg
ICByZXR1cm4gJGRhdGE7CiAgICB9CgogICAgLyoqCiAgICAgKiBQYXJzZXMgdGhlIGZlZWQg
Zm91bmQgaW4gY29udGVudCBhbmQgY2FsbHMgc3RvcmVTZWN0aW9uIHRvIHN0b3JlCiAgICAg
KiBwYXJzZWQgZGF0YQogICAgICogQHBhcmFtIHN0cmluZyAkY29udGVudAogICAgICogQHBh
cmFtIElDYWwgJGljYWwKICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gX1Bh
cnNlKCAkY29udGVudCwgSUNhbCAkaWNhbCApCiAgICB7CiAgICAgICAgJG1haW5fc2VjdGlv
bnMgPSBhcnJheSgndmV2ZW50JywgJ3Zqb3VybmFsJywgJ3Z0b2RvJywgJ3Z0aW1lem9uZScs
ICd2Y2FsZW5kYXInKTsKICAgICAgICAkYXJyYXlfaWRlbnRzID0gYXJyYXkoJ2V4ZGF0ZScs
J3JkYXRlJywnYXR0ZW5kZWUnKTsKICAgICAgICAkc2VjdGlvbnMgPSBhcnJheSgpOwogICAg
ICAgICRzZWN0aW9uID0gJyc7CiAgICAgICAgJGN1cnJlbnRfZGF0YSA9IGFycmF5KCk7Cgog
ICAgICAgIGZvcmVhY2ggKCRjb250ZW50IEFTICRsaW5lKSB7CiAgICAgICAgICAgICRsaW5l
ID0gbmV3IExpbmUoJGxpbmUpOwogICAgICAgICAgICBpZiAoICRsaW5lLT5pc0JlZ2luKCkg
KSB7CiAgICAgICAgICAgICAgICAvLyBOZXcgYmxvY2sgb2YgZGF0YSwgJHNlY3Rpb24gPSBu
ZXcgYmxvY2sKICAgICAgICAgICAgICAgICRzZWN0aW9uID0gc3RydG9sb3dlcigkbGluZS0+
Z2V0RGF0YSgpKTsKICAgICAgICAgICAgICAgICRzZWN0aW9uc1tdID0gc3RydG9sb3dlcigk
bGluZS0+Z2V0RGF0YSgpKTsKICAgICAgICAgICAgfSBlbHNlaWYgKCAkbGluZS0+aXNFbmQo
KSApIHsKICAgICAgICAgICAgICAgIC8vIEVuZCBvZiBibG9jayBvZiBkYXRhICgkcmVtb3Zl
ZCA9IGp1c3QgZW5kZWQgYmxvY2ssICRzZWN0aW9uID0gbmV3IHRvcC1ibG9jaykKICAgICAg
ICAgICAgICAgICRyZW1vdmVkID0gYXJyYXlfcG9wKCRzZWN0aW9ucyk7CiAgICAgICAgICAg
ICAgICAkc2VjdGlvbiA9IGVuZCgkc2VjdGlvbnMpOwoKICAgICAgICAgICAgICAgIGlmICgg
YXJyYXlfc2VhcmNoKCRyZW1vdmVkLCAkbWFpbl9zZWN0aW9ucykgIT09IGZhbHNlICkgewog
ICAgICAgICAgICAgICAgICAgIHNlbGY6OlN0b3JlU2VjdGlvbiggJHJlbW92ZWQsICRjdXJy
ZW50X2RhdGFbJHJlbW92ZWRdLCAkaWNhbCk7CiAgICAgICAgICAgICAgICAgICAgJGN1cnJl
bnRfZGF0YVskcmVtb3ZlZF0gPSBhcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAg
ICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy8gRGF0YSBsaW5lCiAgICAgICAgICAg
ICAgICBmb3JlYWNoICgkbWFpbl9zZWN0aW9ucyBBUyAkcykgewogICAgICAgICAgICAgICAg
ICAgIC8vIExvb3BzIHRob3VnaCB0aGUgbWFpbiBzZWN0aW9ucwogICAgICAgICAgICAgICAg
ICAgIGlmICggYXJyYXlfc2VhcmNoKCRzLCAkc2VjdGlvbnMpICE9PSBmYWxzZSApIHsKICAg
ICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWN0aW9uIGlzIGluIHRoZSBtYWluIHNl
Y3Rpb24KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzZWN0aW9uID09ICRzKSB7CiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJdCBfaXNfIHRoZSBtYWluIHNlY3Rpb24g
ZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluX2FycmF5KCRsaW5lLT5n
ZXRJZGVudCgpLCAkYXJyYXlfaWRlbnRzKSkgewogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIC8vZXhkYXRlIGNvdWxkIGFwcGVhcnMgbW9yZSB0aGF0IG9uY2UKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAkY3VycmVudF9kYXRhWyRzXVskbGluZS0+Z2V0SWRl
bnQoKV1bXSA9ICRsaW5lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgJGN1cnJlbnRfZGF0YVskc11bJGxpbmUtPmdldElkZW50KCldID0gJGxpbmU7CiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0g
ZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTdWIgc2VjdGlvbgogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgJGN1cnJlbnRfZGF0YVskc11bJHNlY3Rpb25dWyRs
aW5lLT5nZXRJZGVudCgpXSA9ICRsaW5lOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAg
ICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAg
ICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAkY3VycmVu
dF9kYXRhID0gYXJyYXkoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFN0b3JlcyB0aGUgZGF0
YSBpbiBwcm92aWRlZCBpbnRvdWNoXGljYWxcaUNhbG9iamVjdAogICAgICogQHBhcmFtIHN0
cmluZyAkc2VjdGlvbiBlZyAndmNhbGVuZGVyJywgJ3ZldmVudCcgZXRjCiAgICAgKiBAcGFy
YW0gc3RyaW5nICRkYXRhCiAgICAgKiBAcGFyYW0gSUNhbCAkaWNhbAogICAgICovCiAgICBw
cm90ZWN0ZWQgc3RhdGljIGZ1bmN0aW9uIHN0b3JlU2VjdGlvbiggJHNlY3Rpb24sICRkYXRh
LCBJQ2FsICRpY2FsICkKICAgIHsKICAgICAgICAkZGF0YSA9IEZhY3Rvcnk6OnBvcnRhbCgk
aWNhbCwgJHNlY3Rpb24sICRkYXRhKTsKICAgICAgICBzd2l0Y2ggKCRzZWN0aW9uKSB7CiAg
ICAgICAgICAgIGNhc2UgJ3ZjYWxlbmRhcic6CiAgICAgICAgICAgICAgICByZXR1cm4gJGlj
YWwtPnNldENhbGVuZGFySW5mbyggJGRhdGEgKTsKICAgICAgICAgICAgY2FzZSAndmV2ZW50
JzoKICAgICAgICAgICAgICAgIHJldHVybiAkaWNhbC0+YWRkRXZlbnQoICRkYXRhICk7CiAg
ICAgICAgICAgIGNhc2UgJ3Zqb3VybmFsJzoKICAgICAgICAgICAgY2FzZSAndnRvZG8nOgog
ICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFRPRE86IEltcGxlbWVudAogICAgICAg
ICAgICBjYXNlICd2dGltZXpvbmUnOgogICAgICAgICAgICAgICAgcmV0dXJuICRpY2FsLT5h
ZGRUaW1lWm9uZSggJGRhdGEgKTsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBU
aGlzIGZ1bmN0aW9ucyBkb2VzIHNvbWUgcmVnZXhwIGNoZWNraW5nIHRvIHNlZSBpZiB0aGUg
dmFsdWUgaXMKICAgICAqIHZhbGlkIFVURi04LgogICAgICoKICAgICAqIFRoZSBmdW5jdGlv
biBpcyBmcm9tIHRoZSBib29rICJCdWlsZGluZyBTY2FsYWJsZSBXZWIgU2l0ZXMiIGJ5CiAg
ICAgKiBDYWwgSGVuZGVyc29uLgogICAgICoKICAgICAqIEBwYXJhbSAgc3RyaW5nICRkYXRh
CiAgICAgKiBAcmV0dXJuIGJvb2wKICAgICAqLwogICAgcHJpdmF0ZSBzdGF0aWMgZnVuY3Rp
b24gX1ZhbGlkVXRmOCggJGRhdGEgKQogICAgewogICAgICAgICRyeCAgPSAnW1x4QzAtXHhE
Rl0oW15ceDgwLVx4QkZdfCQpJzsKICAgICAgICAkcnggLj0gJ3xbXHhFMC1ceEVGXS57MCwx
fShbXlx4ODAtXHhCRl18JCknOwogICAgICAgICRyeCAuPSAnfFtceEYwLVx4RjddLnswLDJ9
KFteXHg4MC1ceEJGXXwkKSc7CiAgICAgICAgJHJ4IC49ICd8W1x4RjgtXHhGQl0uezAsM30o
W15ceDgwLVx4QkZdfCQpJzsKICAgICAgICAkcnggLj0gJ3xbXHhGQy1ceEZEXS57MCw0fShb
Xlx4ODAtXHhCRl18JCknOwogICAgICAgICRyeCAuPSAnfFtceEZFLVx4RkVdLnswLDV9KFte
XHg4MC1ceEJGXXwkKSc7CiAgICAgICAgJHJ4IC49ICd8W1x4MDAtXHg3Rl1bXHg4MC1ceEJG
XSc7CiAgICAgICAgJHJ4IC49ICd8W1x4QzAtXHhERl0uW1x4ODAtXHhCRl0nOwogICAgICAg
ICRyeCAuPSAnfFtceEUwLVx4RUZdLi5bXHg4MC1ceEJGXSc7CiAgICAgICAgJHJ4IC49ICd8
W1x4RjAtXHhGN10uLi5bXHg4MC1ceEJGXSc7CiAgICAgICAgJHJ4IC49ICd8W1x4RjgtXHhG
Ql0uLi4uW1x4ODAtXHhCRl0nOwogICAgICAgICRyeCAuPSAnfFtceEZDLVx4RkRdLi4uLi5b
XHg4MC1ceEJGXSc7CiAgICAgICAgJHJ4IC49ICd8W1x4RkUtXHhGRV0uLi4uLi5bXHg4MC1c
eEJGXSc7CiAgICAgICAgJHJ4IC49ICd8XltceDgwLVx4QkZdJzsKCiAgICAgICAgcmV0dXJu
ICggISAoYm9vbCkgcHJlZ19tYXRjaCgnIScuJHJ4LichJywgJGRhdGEpICk7CiAgICB9Cn0K
Ci8vIG5hbWVzcGFjZSBUS3JcSUNhbDsKLy8gdXNlIEV4Y2VwdGlvbjsKCi8qKgogKgogKiBB
IGNvbGxlY3Rpb24gb2YgZnVuY3Rpb25zIHRvIHF1ZXJ5IHRoZSBldmVudHMgaW4gYSBjYWxl
bmRhci4KICoKICogQGF1dGhvciBNb3J0ZW4gRmFuZ2VsIChDKSAyMDA4CiAqIEBhdXRob3Ig
TWljaGFlbCBLYWhuIChDKSAyMDEzCiAqIEBsaWNlbnNlIGh0dHA6Ly9jcmVhdGl2ZWNvbW1v
bnMub3JnL2xpY2Vuc2VzL2J5LXNhLzIuNS9kay9kZWVkLmVuX0dCIENDLUJZLVNBLURLCiAq
LwpjbGFzcyBRdWVyeQp7CiAgICAvKioKICAgICAqIFJldHVybnMgYWxsIGV2ZW50cyBmcm9t
IHRoZSBjYWxlbmRhciBiZXR3ZWVuIHR3byB0aW1lc3RhbXBzCiAgICAgKgogICAgICogTm90
ZSB0aGF0IHRoZSBldmVudHMgcmV0dXJuZWQgbmVlZHMgb25seSBzbGlnaHRseSBvdmVybGFw
LgogICAgICoKICAgICAqIEBwYXJhbSAgaW50b3VjaFxpY2FsXGlDYWwgfGFycmF5ICRpY2Fs
ICBUaGUgY2FsZW5kYXIgdG8gcXVlcnkKICAgICAqIEBwYXJhbSAgaW50ICAgICAgICAgICAg
ICAgICAgICAgICRzdGFydAogICAgICogQHBhcmFtICBpbnQgICAgICAgICAgICAgICAgICAg
ICAgJGVuZAogICAgICogQHJldHVybiBpbnRvdWNoXGljYWxcVkV2ZW50W10KICAgICAqLwog
ICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBCZXR3ZWVuKElDYWwgJGljYWwsICRzdGFydCwg
JGVuZCApCiAgICB7CiAgICAgICAgaWYgKCRpY2FsIGluc3RhbmNlb2YgSUNhbCkgewogICAg
ICAgICAgICAkaWNhbCA9ICRpY2FsLT5nZXRFdmVudHMoKTsKICAgICAgICB9CiAgICAgICAg
aWYgKCAhaXNfYXJyYXkoJGljYWwpICkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0
aW9uKCdpbnRvdWNoXGljYWxcUXVlcnk6OkJldHdlZW4gY2FsbGVkIHdpdGggaW52YWxpZCBp
bnB1dCEnKTsKICAgICAgICB9CgogICAgICAgICRydG4gPSBhcnJheSgpOwogICAgICAgIGZv
cmVhY2ggKCRpY2FsIEFTICRlKSB7CiAgICAgICAgICAgIGlmKCAoJHN0YXJ0IDw9ICRlLT5n
ZXRTdGFydCgpICYmICRlLT5nZXRTdGFydCgpIDwgJGVuZCkKICAgICAgICAgICAgIHx8ICgk
c3RhcnQgPCAkZS0+Z2V0UmFuZ2VFbmQoKSAmJiAkZS0+Z2V0UmFuZ2VFbmQoKSA8PSAkZW5k
KSApIHsKICAgICAgICAgICAgICAgICRydG5bXSA9ICRlOwogICAgICAgICAgICB9CiAgICAg
ICAgfQoKICAgICAgICByZXR1cm4gJHJ0bjsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVy
bnMgYWxsIGV2ZW50cyBmcm9tIHRoZSBjYWxlbmRhciBhZnRlciBhIGdpdmVuIHRpbWVzdGFt
cAogICAgICoKICAgICAqIEBwYXJhbSAgaW50b3VjaFxpY2FsXGlDYWx8YXJyYXkgJGljYWwg
IFRoZSBjYWxlbmRhciB0byBxdWVyeQogICAgICogQHBhcmFtICBpbnQgICAgICAgICAgICAg
ICAgICAgICAkc3RhcnQKICAgICAqIEByZXR1cm4gaW50b3VjaFxpY2FsXFZFdmVudFtdCiAg
ICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gQWZ0ZXIoICRpY2FsLCAkc3RhcnQg
KQogICAgewogICAgICAgIGlmICgkaWNhbCBpbnN0YW5jZW9mIElDYWwpIHsKICAgICAgICAg
ICAgJGljYWwgPSAkaWNhbC0+Z2V0RXZlbnRzKCk7CiAgICAgICAgfQogICAgICAgIGlmICgg
IWlzX2FycmF5KCRpY2FsKSApIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbign
aW50b3VjaFxpY2FsXFF1ZXJ5OjpBZnRlciBjYWxsZWQgd2l0aCBpbnZhbGlkIGlucHV0IScp
OwogICAgICAgIH0KCiAgICAgICAgJHJ0biA9IGFycmF5KCk7CiAgICAgICAgZm9yZWFjaCAo
JGljYWwgQVMgJGUpIHsKICAgICAgICAgICAgaWYgKCRlLT5nZXRTdGFydCgpID49ICRzdGFy
dCB8fCAkZS0+Z2V0UmFuZ2VFbmQoKSA+PSAkc3RhcnQpIHsKICAgICAgICAgICAgICAgICRy
dG5bXSA9ICRlOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHJ0
bjsKICAgIH0KCiAgICAvKioKICAgICAqIFNvcnRzIHRoZSBldmVudHMgZnJvbSB0aGUgY2Fs
ZW5kYXIgYWZ0ZXIgdGhlIHNwZWNpZmllZCBjb2x1bW4uCiAgICAgKiBDb2x1bW4gY2FuIGJl
IGFsbCB2YWxpZCBlbnRpcmVzIHRoYXQgZ2V0UHJvcGVydHkgY2FuIHJldHVybi4KICAgICAq
IFNvIHN0dWZmIGxpa2UgdWlkLCBzdGFydCwgZW5kLCBzdW1tYXJ5IGV0Yy4KICAgICAqIEBw
YXJhbSAgaW50b3VjaFxpY2FsXGlDYWx8YXJyYXkgJGljYWwgICBUaGUgY2FsZW5kYXIgdG8g
cXVlcnkKICAgICAqIEBwYXJhbSAgc3RyaW5nICAgICAgICAgICAgICAgICAgJGNvbHVtbgog
ICAgICogQHJldHVybiBpbnRvdWNoXGljYWxcVkV2ZW50W10KICAgICAqLwogICAgcHVibGlj
IHN0YXRpYyBmdW5jdGlvbiBTb3J0KCAkaWNhbCwgJGNvbHVtbiApCiAgICB7CiAgICAgICAg
aWYgKCRpY2FsIGluc3RhbmNlb2YgSUNhbCkgewogICAgICAgICAgICAkaWNhbCA9ICRpY2Fs
LT5nZXRFdmVudHMoKTsKICAgICAgICB9CiAgICAgICAgaWYgKCAhaXNfYXJyYXkoJGljYWwp
ICkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdpbnRvdWNoXGljYWxcUXVl
cnk6OlNvcnQgY2FsbGVkIHdpdGggaW52YWxpZCBpbnB1dCEnKTsKICAgICAgICB9CgogICAg
ICAgICRjbXAgPSBjcmVhdGVfZnVuY3Rpb24oJyRhLCAkYicsICdyZXR1cm4gc3RyY21wKCRh
LT5nZXRQcm9wZXJ0eSgiJyAuICRjb2x1bW4gLiAnIiksICRiLT5nZXRQcm9wZXJ0eSgiJyAu
ICRjb2x1bW4gLiAnIikpOycpOwogICAgICAgIHVzb3J0KCRpY2FsLCAkY21wKTsKCiAgICAg
ICAgcmV0dXJuICRpY2FsOwogICAgfQp9CgovLyBuYW1lc3BhY2UgVEtyXElDYWw7CgovLyB1
c2UgXERhdGVUaW1lOwoKLyoqCiAqIEEgd3JhcHBlciBmb3IgcmVjdXJyZW5jZSBydWxlcyBp
biBpQ2FsZW5kYXIuICBQYXJzZXMgdGhlIGdpdmVuIGxpbmUgYW5kIHB1dHMgdGhlCiAqIHJl
Y3VycmVuY2UgcnVsZXMgaW4gdGhlIGNvcnJlY3QgZmllbGQgb2YgdGhpcyBvYmplY3QuCiAq
CiAqIFNlZSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMyNDQ1IGZvciBtb3JlIGlu
Zm9ybWF0aW9uLiAgUGFnZSAzOSBhbmQgb253YXJkIGNvbnRhaW5zIG1vcmUKICogaW5mb3Jt
YXRpb24gb24gdGhlIHJlY3VycmVuY2UgcnVsZXMgdGhlbXNlbHZlcy4gIFBhZ2UgMTE2IGFu
ZCBvbndhcmQgY29udGFpbnMKICogc29tZSBncmVhdCBleGFtcGxlcyB3aGljaCB3ZXJlIG9m
dGVuIHVzZWQgZm9yIHRlc3RpbmcuCiAqCiAqIEBhdXRob3IgU3RldmVuIE94bGV5CiAqIEBh
dXRob3IgTWljaGFlbCBLYWhuIChDKSAyMDEzCiAqIEBsaWNlbnNlIGh0dHA6Ly9jcmVhdGl2
ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LXNhLzIuNS9kay9kZWVkLmVuX0dCIENDLUJZLVNB
LURLCiAqLwpjbGFzcyBSZWN1cnJlbmNlCnsKICAgIHB1YmxpYyAkcnJ1bGU7CgogICAgcHJv
dGVjdGVkICRmcmVxOwoKICAgIHB1YmxpYyAkdW50aWw7CiAgICBwcm90ZWN0ZWQgJGNvdW50
OwoKICAgIHByb3RlY3RlZCAkaW50ZXJ2YWw7CiAgICBwcm90ZWN0ZWQgJGJ5c2Vjb25kOwog
ICAgcHJvdGVjdGVkICRieW1pbnV0ZTsKICAgIHByb3RlY3RlZCAkYnlob3VyOwogICAgcHJv
dGVjdGVkICRieWRheTsKICAgIHByb3RlY3RlZCAkYnltb250aGRheTsKICAgIHByb3RlY3Rl
ZCAkYnl5ZWFyZGF5OwogICAgcHJvdGVjdGVkICRieXdlZWtubzsKICAgIHByb3RlY3RlZCAk
Ynltb250aDsKICAgIHByb3RlY3RlZCAkYnlzZXRwb3M7CgogICAgcHJvdGVjdGVkICR3a3N0
OwoKICAgIC8qKgogICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgY2FuIGhh
dmUgY29tbWEtc2VwYXJhdGVkIGxpc3RzIGZvciB2YWx1ZXMuCiAgICAgKiBAdmFyIGFycmF5
CiAgICAgKi8KICAgIHByb3RlY3RlZCAkbGlzdFByb3BlcnRpZXMgPSBhcnJheSgKICAgICAg
ICAnYnlzZWNvbmQnLCAnYnltaW51dGUnLCAnYnlob3VyJywgJ2J5ZGF5JywgJ2J5bW9udGhk
YXknLAogICAgICAgICdieXllYXJkYXknLCAnYnl3ZWVrbm8nLCAnYnltb250aCcsICdieXNl
dHBvcycKICAgICk7CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIGFuIHJlY3VycmVuY2Ugb2Jq
ZWN0IHdpdGggYSBwYXNzZWQgaW4gbGluZS4gIFBhcnNlcyB0aGUgbGluZS4KICAgICAqIEBw
YXJhbSBvYmplY3QgJGxpbmUgYW4gaW50b3VjaFxpY2FsXExpbmUgb2JqZWN0IHdoaWNoIHdp
bGwgYmUgcGFyc2VkIHRvIGdldCB0aGUKICAgICAqIGRlc2lyZWQgaW5mb3JtYXRpb24uCiAg
ICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChMaW5lICRsaW5lKQogICAg
ewogICAgICAgICR0aGlzLT5wYXJzZUxpbmUoJGxpbmUtPmdldERhdGEoKSk7CiAgICB9Cgog
ICAgLyoqCiAgICAgKiBQYXJzZXMgYW4gJ1JSVUxFJyBsaW5lIGFuZCBzZXRzIHRoZSBtZW1i
ZXIgdmFyaWFibGVzIG9mIHRoaXMgb2JqZWN0LgogICAgICogRXhwZWN0cyBhIHN0cmluZyB0
aGF0IGxvb2tzIGxpa2UgdGhpczogICdGUkVRPVdFRUtMWTtJTlRFUlZBTD0yO0JZREFZPVNV
LFRVLFdFJwogICAgICogQHBhcmFtIHN0cmluZyAkbGluZSB0aGUgbGluZSB0byBiZSBwYXJz
ZWQKICAgICAqLwogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIHBhcnNlTGluZSgkbGluZSkKICAg
IHsKICAgICAgICAkdGhpcy0+cnJ1bGUgPSAkbGluZTsKCiAgICAgICAgLy9zcGxpdCB1cCB0
aGUgcHJvcGVydGllcwogICAgICAgICRyZWN1clByb3BlcnRpZXMgPSBleHBsb2RlKCc7Jywg
JGxpbmUpOwogICAgICAgICRyZWN1ciA9IGFycmF5KCk7CgogICAgICAgIC8vbG9vcCB0aHJv
dWdoIHRoZSBwcm9wZXJ0aWVzIGluIHRoZSBsaW5lIGFuZCBzZXQgdGhlaXIgYXNzb2NpYXRl
ZAogICAgICAgIC8vbWVtYmVyIHZhcmlhYmxlcwogICAgICAgIGZvcmVhY2ggKCRyZWN1clBy
b3BlcnRpZXMgYXMgJHByb3BlcnR5KSB7CiAgICAgICAgICAgICRuYW1lQW5kVmFsdWUgPSBl
eHBsb2RlKCc9JywgJHByb3BlcnR5KTsKCiAgICAgICAgICAgIC8vbmVlZCB0aGUgbG93ZXIt
Y2FzZSBuYW1lIGZvciBzZXR0aW5nIHRoZSBtZW1iZXIgdmFyaWFibGUKICAgICAgICAgICAg
JHByb3BlcnR5TmFtZSA9IHN0cnRvbG93ZXIoJG5hbWVBbmRWYWx1ZVswXSk7CiAgICAgICAg
ICAgICRwcm9wZXJ0eVZhbHVlID0gJG5hbWVBbmRWYWx1ZVsxXTsKCiAgICAgICAgICAgIC8v
c3BsaXQgdXAgdGhlIGxpc3Qgb2YgdmFsdWVzIGludG8gYW4gYXJyYXkgKGlmIGl0J3MgYSBs
aXN0KQogICAgICAgICAgICBpZiAoaW5fYXJyYXkoJHByb3BlcnR5TmFtZSwgJHRoaXMtPmxp
c3RQcm9wZXJ0aWVzKSkgewogICAgICAgICAgICAgICAgJHByb3BlcnR5VmFsdWUgPSBleHBs
b2RlKCcsJywgJHByb3BlcnR5VmFsdWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR0
aGlzLT4kcHJvcGVydHlOYW1lID0gJHByb3BlcnR5VmFsdWU7CiAgICAgICAgfQogICAgfQoK
ICAgIC8qKgogICAgICogU2V0IHRoZSAkdW50aWwgbWVtYmVyCiAgICAgKiBAcGFyYW0gbWl4
ZWQgdGltZXN0YW1wIChpbnQpIC8gVmFsaWQgRGF0ZVRpbWUgZm9ybWF0IChzdHJpbmcpCiAg
ICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBzZXRVbnRpbCgkdHMpCiAgICB7CiAgICAgICAg
aWYgKCBpc19pbnQoJHRzKSApCiAgICAgICAgICAgICRkdCA9IG5ldyBEYXRlVGltZSgnQCcu
JHRzKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgICRkdCA9IG5ldyBEYXRlVGltZSgkdHMp
OwogICAgICAgICR0aGlzLT51bnRpbCA9ICRkdC0+Zm9ybWF0KCdZbWRcVEhpc08nKTsKICAg
IH0KCiAgICAvKioKICAgICAqIFJldHJpZXZlcyB0aGUgZGVzaXJlZCBtZW1iZXIgdmFyaWFi
bGUgYW5kIHJldHVybnMgaXQgKGlmIGl0J3Mgc2V0KQogICAgICogQHBhcmFtICBzdHJpbmcg
JG1lbWJlciBuYW1lIG9mIHRoZSBtZW1iZXIgdmFyaWFibGUKICAgICAqIEByZXR1cm4gbWl4
ZWQgIHRoZSB2YXJpYWJsZSB2YWx1ZSAoaWYgc2V0KSwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAg
Ki8KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBnZXRNZW1iZXIoJG1lbWJlcikKICAgIHsKICAg
ICAgICBpZiAoaXNzZXQoJHRoaXMtPiRtZW1iZXIpKSB7CiAgICAgICAgICAgIHJldHVybiAk
dGhpcy0+JG1lbWJlcjsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0K
CiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGZyZXF1ZW5jeSAtIGNvcnJlc3BvbmRzIHRv
IEZSRVEgaW4gUkZDIDI0NDUuCiAgICAgKiBAcmV0dXJuIG1peGVkIHN0cmluZyBpZiB0aGUg
bWVtYmVyIGhhcyBiZWVuIHNldCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIHB1Ymxp
YyBmdW5jdGlvbiBnZXRGcmVxKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmdldE1l
bWJlcignZnJlcScpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB3aGVuIHRoZSBl
dmVudCB3aWxsIGdvIHVudGlsIC0gY29ycmVzcG9uZHMgdG8gVU5USUwgaW4gUkZDIDI0NDUu
CiAgICAgKiBAcmV0dXJuIG1peGVkIHN0cmluZyBpZiB0aGUgbWVtYmVyIGhhcyBiZWVuIHNl
dCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRVbnRp
bCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5nZXRNZW1iZXIoJ3VudGlsJyk7CiAg
ICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBjb3VudCBvZiB0aGUgdGltZXMgdGhl
IGV2ZW50IHdpbGwgb2NjdXIgKHNob3VsZCBvbmx5IGFwcGVhciBpZiAndW50aWwnCiAgICAg
KiBkb2VzIG5vdCBhcHBlYXIpIC0gY29ycmVzcG9uZHMgdG8gQ09VTlQgaW4gUkZDIDI0NDUu
CiAgICAgKiBAcmV0dXJuIG1peGVkIHN0cmluZyBpZiB0aGUgbWVtYmVyIGhhcyBiZWVuIHNl
dCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDb3Vu
dCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5nZXRNZW1iZXIoJ2NvdW50Jyk7CiAg
ICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBpbnRlcnZhbCAtIGNvcnJlc3BvbmRz
IHRvIElOVEVSVkFMIGluIFJGQyAyNDQ1LgogICAgICogQHJldHVybiBtaXhlZCBzdHJpbmcg
aWYgdGhlIG1lbWJlciBoYXMgYmVlbiBzZXQsIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAg
ICBwdWJsaWMgZnVuY3Rpb24gZ2V0SW50ZXJ2YWwoKQogICAgewogICAgICAgIHJldHVybiAk
dGhpcy0+Z2V0TWVtYmVyKCdpbnRlcnZhbCcpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0
dXJucyB0aGUgYnlzZWNvbmQgcGFydCBvZiB0aGUgZXZlbnQgLSBjb3JyZXNwb25kcyB0byBC
WVNFQ09ORCBpbiBSRkMgMjQ0NS4KICAgICAqIEByZXR1cm4gbWl4ZWQgc3RyaW5nIGlmIHRo
ZSBtZW1iZXIgaGFzIGJlZW4gc2V0LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgcHVi
bGljIGZ1bmN0aW9uIGdldEJ5U2Vjb25kKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMt
PmdldE1lbWJlcignYnlzZWNvbmQnKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMg
dGhlIGJ5bWludXRlIGluZm9ybWF0aW9uIGZvciB0aGUgZXZlbnQgLSBjb3JyZXNwb25kcyB0
byBCWU1JTlVURSBpbiBSRkMgMjQ0NS4KICAgICAqIEByZXR1cm4gbWl4ZWQgc3RyaW5nIGlm
IHRoZSBtZW1iZXIgaGFzIGJlZW4gc2V0LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAg
cHVibGljIGZ1bmN0aW9uIGdldEJ5TWludXRlKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRo
aXMtPmdldE1lbWJlcignYnltaW51dGUnKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvcnJl
c3BvbmRzIHRvIEJZSE9VUiBpbiBSRkMgMjQ0NS4KICAgICAqIEByZXR1cm4gbWl4ZWQgc3Ry
aW5nIGlmIHRoZSBtZW1iZXIgaGFzIGJlZW4gc2V0LCBmYWxzZSBvdGhlcndpc2UKICAgICAq
LwogICAgcHVibGljIGZ1bmN0aW9uIGdldEJ5SG91cigpCiAgICB7CiAgICAgICAgcmV0dXJu
ICR0aGlzLT5nZXRNZW1iZXIoJ2J5aG91cicpOwogICAgfQoKICAgIC8qKgogICAgICpDb3Jy
ZXNwb25kcyB0byBCWURBWSBpbiBSRkMgMjQ0NS4KICAgICAqIEByZXR1cm4gbWl4ZWQgc3Ry
aW5nIGlmIHRoZSBtZW1iZXIgaGFzIGJlZW4gc2V0LCBmYWxzZSBvdGhlcndpc2UKICAgICAq
LwogICAgcHVibGljIGZ1bmN0aW9uIGdldEJ5RGF5KCkKICAgIHsKICAgICAgICByZXR1cm4g
JHRoaXMtPmdldE1lbWJlcignYnlkYXknKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvcnJl
c3BvbmRzIHRvIEJZTU9OVEhEQVkgaW4gUkZDIDI0NDUuCiAgICAgKiBAcmV0dXJuIG1peGVk
IHN0cmluZyBpZiB0aGUgbWVtYmVyIGhhcyBiZWVuIHNldCwgZmFsc2Ugb3RoZXJ3aXNlCiAg
ICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRCeU1vbnRoRGF5KCkKICAgIHsKICAgICAg
ICByZXR1cm4gJHRoaXMtPmdldE1lbWJlcignYnltb250aGRheScpOwogICAgfQoKICAgIC8q
KgogICAgICogQ29ycmVzcG9uZHMgdG8gQllZRUFSREFZIGluIFJGQyAyNDQ1LgogICAgICog
QHJldHVybiBtaXhlZCBzdHJpbmcgaWYgdGhlIG1lbWJlciBoYXMgYmVlbiBzZXQsIGZhbHNl
IG90aGVyd2lzZQogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QnlZZWFyRGF5KCkK
ICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmdldE1lbWJlcignYnl5ZWFyZGF5Jyk7CiAg
ICB9CgogICAgLyoqCiAgICAgKiBDb3JyZXNwb25kcyB0byBCWVdFRUtOTyBpbiBSRkMgMjQ0
NS4KICAgICAqIEByZXR1cm4gbWl4ZWQgc3RyaW5nIGlmIHRoZSBtZW1iZXIgaGFzIGJlZW4g
c2V0LCBmYWxzZSBvdGhlcndpc2UKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldEJ5
V2Vla05vKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmdldE1lbWJlcignYnl3ZWVr
bm8nKTsKICAgIH0KCiAgICAvKioKICAgICAqIENvcnJlc3BvbmRzIHRvIEJZTU9OVEggaW4g
UkZDIDI0NDUuCiAgICAgKiBAcmV0dXJuIG1peGVkIHN0cmluZyBpZiB0aGUgbWVtYmVyIGhh
cyBiZWVuIHNldCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlv
biBnZXRCeU1vbnRoKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmdldE1lbWJlcign
Ynltb250aCcpOwogICAgfQoKICAgIC8qKgogICAgICogQ29ycmVzcG9uZHMgdG8gQllTRVRQ
T1MgaW4gUkZDIDI0NDUuCiAgICAgKiBAcmV0dXJuIG1peGVkIHN0cmluZyBpZiB0aGUgbWVt
YmVyIGhhcyBiZWVuIHNldCwgZmFsc2Ugb3RoZXJ3aXNlCiAgICAgKi8KICAgIHB1YmxpYyBm
dW5jdGlvbiBnZXRCeVNldFBvcygpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5nZXRN
ZW1iZXIoJ2J5c2V0cG9zJyk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb3JyZXNwb25kcyB0
byBXS1NUIGluIFJGQyAyNDQ1LgogICAgICogQHJldHVybiBtaXhlZCBzdHJpbmcgaWYgdGhl
IG1lbWJlciBoYXMgYmVlbiBzZXQsIGZhbHNlIG90aGVyd2lzZQogICAgICovCiAgICBwdWJs
aWMgZnVuY3Rpb24gZ2V0V2tzdCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5nZXRN
ZW1iZXIoJ3drc3QnKTsKICAgIH0KfQoKLy8gbmFtZXNwYWNlIFRLclxJQ2FsOwoKLy91c2Ug
QXJyYXlJdGVyYXRvcjsKLy8vLyB1c2UgXEl0ZXJhdG9yQWdncmVnYXRlOwoKLyoqCiAqIFRo
ZSB3cmFwcGVyIGZvciB0aGUgbWFpbiB2Y2FsZW5kYXIgZGF0YS4gVXNlZCBpbnN0ZWFkIG9m
IEFycmF5T2JqZWN0CiAqIHNvIHlvdSBjYW4gZWFzaWx5IHF1ZXJ5IGZvciB0aXRsZSBhbmQg
ZGVzY3JpcHRpb24uCiAqIEV4cG9zZXMgYSBpdGVyYXRvciB0aGF0IHdpbGwgbG9vcCB0aG91
Z2ggYWxsIHRoZSBkYXRhCiAqCiAqIEBhdXRob3IgTW9ydGVuIEZhbmdlbCAoQykgMjAwOAog
KiBAYXV0aG9yIE1pY2hhZWwgS2FobiAoQykgMjAxMwogKiBAbGljZW5zZSBodHRwOi8vY3Jl
YXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8yLjUvZGsvZGVlZC5lbl9HQiBDQy1C
WS1TQS1ESwogKi8KY2xhc3MgVkNhbGVuZGFyIGltcGxlbWVudHMgSXRlcmF0b3JBZ2dyZWdh
dGUKewogICAgcHJvdGVjdGVkICRkYXRhOwoKICAgIC8qKgogICAgICogQ3JlYXRlcyBhIG5l
dyBpbnRvdWNoXGljYWxcVkNhbGVuZGFyLgogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24g
X19jb25zdHJ1Y3QoJGRhdGEpCiAgICB7CiAgICAgICAgJHRoaXMtPmRhdGEgPSAkZGF0YTsK
ICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHRpdGxlIG9mIHRoZSBjYWxlbmRh
ci4gSWYgbm8gdGl0bGUgaXMga25vd24sIE5VTEwKICAgICAqIHdpbGwgYmUgcmV0dXJuZWQK
ICAgICAqIEByZXR1cm4gc3RyaW5nCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRU
aXRsZSgpCiAgICB7CiAgICAgICAgaWYgKCBpc3NldCgkdGhpcy0+ZGF0YVsneC13ci1jYWxu
YW1lJ10pICkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPmRhdGFbJ3gtd3ItY2FsbmFt
ZSddOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAg
IH0KICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGRlc2NyaXB0aW9uIG9mIHRo
ZSBjYWxlbmRhci4gSWYgbm8gZGVzY3JpcHRpb24gaXMKICAgICAqIGtub3duLCBOVUxMIHdp
bGwgYmUgcmV0dXJuZWQuCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJs
aWMgZnVuY3Rpb24gZ2V0RGVzY3JpcHRpb24oKQogICAgewogICAgICAgIGlmICggaXNzZXQo
JHRoaXMtPmRhdGFbJ3gtd3ItY2FsZGVzYyddKSApIHsKICAgICAgICAgICAgcmV0dXJuICR0
aGlzLT5kYXRhWyd4LXdyLWNhbGRlc2MnXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAg
ICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBAc2VlIEl0
ZXJhdG9yQWdncmVnYXRlLmdldEl0ZXJhdG9yKCkKICAgICAqLwogICAgcHVibGljIGZ1bmN0
aW9uIGdldEl0ZXJhdG9yKCkKICAgIHsKICAgICAgICByZXR1cm4gbmV3IEFycmF5SXRlcmF0
b3IoJHRoaXMtPmRhdGEpOwogICAgfQp9CgovLyBuYW1lc3BhY2UgVEtyXElDYWw7CgovKioK
ICogVGhlIHdyYXBwZXIgZm9yIHZldmVudHMuIFdpbGwgcmV2ZWFsIGEgdW5pZmllZCBhbmQg
c2ltcGxlIGFwaSBmb3IKICogdGhlIGV2ZW50cywgd2hpY2ggaW5jbHVkZSBhbHdheXMgZmlu
ZGluZyBhIHN0YXJ0IGFuZCBlbmQgKGV4Y2VwdAogKiB3aGVuIG5vIGVuZCBvciBkdXJhdGlv
biBpcyBnaXZlbikgYW5kIGNoZWNraW5nIGlmIHRoZSBldmVudCBpcwogKiBibG9ja2luZyBv
ciBzaW1pbGFyLgogKgogKiBXaWxsIGFwcGx5IHRoZSBzcGVjaWZpZWQgdGltZXpvbmUgdG8g
dGltZXN0YW1wcyBpZiBhIHR6aWQgaXMKICogc3BlY2lmaWVkCiAqCiAqIEBhdXRob3IgTW9y
dGVuIEZhbmdlbCAoQykgMjAwOAogKiBAYXV0aG9yIE1pY2hhZWwgS2FobiAoQykgMjAxMwog
KiBAbGljZW5zZSBodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9saWNlbnNlcy9ieS1zYS8y
LjUvZGsvZGVlZC5lbl9HQiBDQy1CWS1TQS1ESwogKi8KY2xhc3MgVkV2ZW50CnsKICAgIGNv
bnN0IERFRkFVTFRfQ09ORklSTUVEID0gdHJ1ZTsKCiAgICBwcm90ZWN0ZWQgJHVpZDsKCiAg
ICBwcm90ZWN0ZWQgJHN0YXJ0OwogICAgcHJvdGVjdGVkICRlbmQ7CgogICAgcHJvdGVjdGVk
ICRzdW1tYXJ5OwogICAgcHJvdGVjdGVkICRkZXNjcmlwdGlvbjsKICAgIHByb3RlY3RlZCAk
bG9jYXRpb247CgogICAgcHJvdGVjdGVkICRsYXN0c3RhcnQ7CiAgICBwcm90ZWN0ZWQgJGxh
c3RlbmQ7CgogICAgcHVibGljICRyZWN1cnJlbmNlOyAvL1JSVUxFCiAgICBwdWJsaWMgJHJl
Y3VyZXg7ICAgIC8vRVhSVUxFCiAgICBwdWJsaWMgJGV4Y2x1ZGVkOyAgIC8vRVhEQVRFKHMp
CiAgICBwdWJsaWMgJGFkZGVkOyAgICAgIC8vUkRBVEUocykKCiAgICBwdWJsaWMgJGZyZXE7
IC8vZ2V0RnJlcXVlbmN5KCkgaW50b3VjaFxpY2FsXEZyZXEKCiAgICBwdWJsaWMgJGRhdGE7
CgogICAgLyoqCiAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGludG91Y2hcaWNhbFxWRXZlbnQu
IE5lZWRzIHRoZSBJQ2FsCiAgICAgKiBzdXBwbGllZCBzbyBpdCBjYW4gcXVlcnkgZm9yIHRp
bWV6b25lcy4KICAgICAqIEBwYXJhbSBMaW5lW10gJGRhdGEKICAgICAqIEBwYXJhbSBJQ2Fs
ICAgJGljYWwKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRkYXRh
LCBJQ2FsICRpY2FsLCAkeWVhcnNMaW1pdCA9IDMpCiAgICB7CiAgICAgICAgaWYgKCBpc3Nl
dCgkZGF0YVsndWlkJ10pICkgewogICAgICAgICAgICAkdGhpcy0+dWlkID0gJGRhdGFbJ3Vp
ZCddLT5nZXREYXRhKCk7CiAgICAgICAgICAgIHVuc2V0KCRkYXRhWyd1aWQnXSk7CiAgICAg
ICAgfQoKICAgICAgICBpZiAoIGlzc2V0KCRkYXRhWydycnVsZSddKSApIHsKICAgICAgICAg
ICAgJHRoaXMtPnJlY3VycmVuY2UgPSBuZXcgUmVjdXJyZW5jZSgkZGF0YVsncnJ1bGUnXSk7
CiAgICAgICAgICAgIHVuc2V0KCRkYXRhWydycnVsZSddKTsKICAgICAgICB9CgogICAgICAg
IGlmICggaXNzZXQoJGRhdGFbJ2V4cnVsZSddKSApIHsKICAgICAgICAgICAgJHRoaXMtPnJl
Y3VyZXggPSBuZXcgUmVjdXJyZW5jZSgkZGF0YVsnZXhydWxlJ10pOwogICAgICAgICAgICB1
bnNldCgkZGF0YVsnZXhydWxlJ10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKCBpc3NldCgk
ZGF0YVsnZHRzdGFydCddKSApIHsKICAgICAgICAgICAgJHRoaXMtPnN0YXJ0ID0gJHRoaXMt
PmdldFRpbWVzdGFtcCgkZGF0YVsnZHRzdGFydCddLCAkaWNhbCk7CiAgICAgICAgICAgIHVu
c2V0KCRkYXRhWydkdHN0YXJ0J10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKCBpc3NldCgk
ZGF0YVsnZHRlbmQnXSkgKSB7CiAgICAgICAgICAgICR0aGlzLT5lbmQgPSAkdGhpcy0+Z2V0
VGltZXN0YW1wKCRkYXRhWydkdGVuZCddLCAkaWNhbCk7CiAgICAgICAgICAgIHVuc2V0KCRk
YXRhWydkdGVuZCddKTsKICAgICAgICB9IGVsc2VpZiAoIGlzc2V0KCRkYXRhWydkdXJhdGlv
biddKSApIHsKICAgICAgICAgICAgJGR1ciA9IG5ldyBEdXJhdGlvbiggJGRhdGFbJ2R1cmF0
aW9uJ10tPmdldERhdGEoKSApOwogICAgICAgICAgICAkdGhpcy0+ZW5kID0gJHRoaXMtPnN0
YXJ0ICsgJGR1ci0+Z2V0RHVyYXRpb24oKTsKICAgICAgICAgICAgdW5zZXQoJGRhdGFbJ2R1
cmF0aW9uJ10pOwogICAgICAgIH0KCiAgICAgICAgLy9nb29nbGUgY2FsIHNldCBkdGVuZCBh
cyBlbmQgb2YgaW5pdGlhbCBldmVudCAoZHVyYXRpb24pCiAgICAgICAgaWYgKCBpc3NldCgk
dGhpcy0+cmVjdXJyZW5jZSkgKSB7CiAgICAgICAgICAgIC8vaWYgdGhlcmUgaXMgYSByZWN1
cnJlbmNlIHJ1bGUKCiAgICAgICAgICAgIC8vZXhjbHVzaW9ucwogICAgICAgICAgICBpZiAo
IGlzc2V0KCRkYXRhWydleGRhdGUnXSkgKSB7CiAgICAgICAgICAgICAgICBmb3JlYWNoICgk
ZGF0YVsnZXhkYXRlJ10gYXMgJGV4ZGF0ZSkgewogICAgICAgICAgICAgICAgICAgIGZvcmVh
Y2ggKCRleGRhdGUtPmdldERhdGFBc0FycmF5KCkgYXMgJHRzKSB7CiAgICAgICAgICAgICAg
ICAgICAgICAgICR0aGlzLT5leGNsdWRlZFtdID0gc3RydG90aW1lKCR0cyk7CiAgICAgICAg
ICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdW5zZXQo
JGRhdGFbJ2V4ZGF0ZSddKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAvL2FkZGl0aW9u
cwogICAgICAgICAgICBpZiAoIGlzc2V0KCRkYXRhWydyZGF0ZSddKSApIHsKICAgICAgICAg
ICAgICAgIGZvcmVhY2ggKCRkYXRhWydyZGF0ZSddIGFzICRyZGF0ZSkgewogICAgICAgICAg
ICAgICAgICAgIGZvcmVhY2ggKCRyZGF0ZS0+Z2V0RGF0YUFzQXJyYXkoKSBhcyAkdHMpIHsK
ICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmFkZGVkW10gPSBzdHJ0b3RpbWUoJHRz
KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAg
ICAgICB1bnNldCgkZGF0YVsncmRhdGUnXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAg
ICR1bnRpbCA9ICR0aGlzLT5yZWN1cnJlbmNlLT5nZXRVbnRpbCgpOwogICAgICAgICAgICAk
Y291bnQgPSAkdGhpcy0+cmVjdXJyZW5jZS0+Z2V0Q291bnQoKTsKICAgICAgICAgICAgLy9j
aGVjayBpZiB0aGVyZSBpcyBlaXRoZXIgJ3VudGlsJyBvciAnY291bnQnIHNldAogICAgICAg
ICAgICBpZiAoJHVudGlsKSB7CiAgICAgICAgICAgICAgICAvL29rLi4KICAgICAgICAgICAg
fSBlbHNlaWYgKCRjb3VudCkgewogICAgICAgICAgICAgICAgLy9pZiBjb3VudCBpcyBzZXQs
IHRoZW4gZmlndXJlIG91dCB0aGUgbGFzdCBvY2N1cnJlbmNlIGFuZCBzZXQgdGhhdCBhcyB0
aGUgZW5kIGRhdGUKICAgICAgICAgICAgICAgICR0aGlzLT5nZXRGcmVxdWVuY3koKTsKICAg
ICAgICAgICAgICAgICR1bnRpbCA9ICR0aGlzLT5mcmVxLT5sYXN0T2NjdXJyZW5jZSgkdGhp
cy0+c3RhcnQpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgLy9mb3Jl
dmVyLi4uIGxpbWl0IHRvIDMgeWVhcnMKICAgICAgICAgICAgICAgICR0aGlzLT5yZWN1cnJl
bmNlLT5zZXRVbnRpbCgnKycgLiAkeWVhcnNMaW1pdCAuJyB5ZWFycycpOwogICAgICAgICAg
ICAgICAgJHVudGlsID0gJHRoaXMtPnJlY3VycmVuY2UtPmdldFVudGlsKCk7CiAgICAgICAg
ICAgIH0KICAgICAgICAgICAgLy9kYXRlX2RlZmF1bHRfdGltZXpvbmVfc2V0KCB4eCApIG5l
ZWRlZCA/OwogICAgICAgICAgICAkdGhpcy0+bGFzdHN0YXJ0ID0gc3RydG90aW1lKCR1bnRp
bCk7CiAgICAgICAgICAgICR0aGlzLT5sYXN0ZW5kID0gJHRoaXMtPmxhc3RzdGFydCArICR0
aGlzLT5nZXREdXJhdGlvbigpOwogICAgICAgIH0KCiAgICAgICAgJGltcG9ydHMgPSBhcnJh
eSgnc3VtbWFyeScsJ2Rlc2NyaXB0aW9uJywnbG9jYXRpb24nKTsKICAgICAgICBmb3JlYWNo
ICgkaW1wb3J0cyBBUyAkaW1wb3J0KSB7CiAgICAgICAgICAgIGlmICggaXNzZXQoJGRhdGFb
JGltcG9ydF0pICkgewogICAgICAgICAgICAgICAgJHRoaXMtPiRpbXBvcnQgPSAkZGF0YVsk
aW1wb3J0XS0+Z2V0RGF0YSgpOwogICAgICAgICAgICAgICAgdW5zZXQoJGRhdGFbJGltcG9y
dF0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoIGlzc2V0KCR0aGlz
LT5wcmV2aW91c190eikgKSB7CiAgICAgICAgICAgIGRhdGVfZGVmYXVsdF90aW1lem9uZV9z
ZXQoJHRoaXMtPnByZXZpb3VzX3R6KTsKICAgICAgICB9CiAgICAgICAgJHRoaXMtPmRhdGEg
PSBMaW5lOjpSZW1vdmVfTGluZSgkZGF0YSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1
cm5zIHRoZSBFdmVudCBPY2N1cnJlbmNlcyBJdGVyYXRvciAoaWYgcmVjdXJyZW5jZSBzZXQp
CiAgICAgKiBAcmV0dXJuIGludG91Y2hcaWNhbFxGcmVxCiAgICAgKi8KICAgIHB1YmxpYyBm
dW5jdGlvbiBnZXRGcmVxdWVuY3koJHVudGlsID0gbnVsbCkKICAgIHsKICAgICAgICBpZiAo
ISBpc3NldCgkdGhpcy0+ZnJlcSkpIHsKICAgICAgICAgICAgaWYgKCBpc3NldCgkdGhpcy0+
cmVjdXJyZW5jZSkgKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZnJlcSA9IG5ldyBGcmVx
KCR0aGlzLT5yZWN1cnJlbmNlLCAkdGhpcy0+c3RhcnQsICR0aGlzLT5leGNsdWRlZCwgJHRo
aXMtPmFkZGVkLCAkdW50aWwpOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBy
ZXR1cm4gJHRoaXMtPmZyZXE7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBV
SUQgb2YgdGhlIGV2ZW50CiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJs
aWMgZnVuY3Rpb24gZ2V0VUlEKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnVpZDsK
ICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHN1bW1hcnkgKG9yIG51bGwgaWYg
bm9uZSBpcyBnaXZlbikgb2YgdGhlIGV2ZW50CiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAg
ICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0U3VtbWFyeSgpCiAgICB7CiAgICAgICAgcmV0
dXJuICR0aGlzLT5zdW1tYXJ5OwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUg
ZGVzY3JpcHRpb24gKG9yIG51bGwgaWYgbm9uZSBpcyBnaXZlbikgb2YgdGhlIGV2ZW50CiAg
ICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0RGVz
Y3JpcHRpb24oKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+ZGVzY3JpcHRpb247CiAg
ICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBsb2NhdGlvbiAob3IgbnVsbCBpZiBu
b25lIGlzIGdpdmVuKSBvZiB0aGUgZXZlbnQKICAgICAqIEByZXR1cm4gc3RyaW5nCiAgICAg
Ki8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRMb2NhdGlvbigpCiAgICB7CiAgICAgICAgcmV0
dXJuICR0aGlzLT5sb2NhdGlvbjsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdHJ1
ZSBpZiB0aGUgZXZlbnQgaXMgYmxvY2tpbmcgKGllIG5vdCB0cmFuc3BhcmVudCkKICAgICAq
IEByZXR1cm4gYm9vbAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gaXNCbG9ja2luZygp
CiAgICB7CiAgICAgICAgcmV0dXJuICEoaXNzZXQoJHRoaXMtPmRhdGFbJ3RyYW5zcCddKSAm
JiAkdGhpcy0+ZGF0YVsndHJhbnNwJ10gPT0gJ1RSQU5TUEFSRU5UJyk7CiAgICB9CgogICAg
LyoqCiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGV2ZW50IGlzIGNvbmZpcm1lZAogICAg
ICogQHJldHVybiBib29sCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBpc0NvbmZpcm1l
ZCgpCiAgICB7CiAgICAgICAgaWYgKCAhaXNzZXQoJHRoaXMtPmRhdGFbJ3N0YXR1cyddKSAp
IHsKICAgICAgICAgICAgcmV0dXJuIHNlbGY6OkRFRkFVTFRfQ09ORklSTUVEOwogICAgICAg
IH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+ZGF0YVsnc3RhdHVzJ10gPT0g
J0NPTkZJUk1FRCc7CiAgICAgICAgfQogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0
cnVlIGlmIGR1cmF0aW9uIGlzIG11bHRpcGxlIG9mIDg2NDAwCiAgICAgKiBAcmV0dXJuIGJv
b2wKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGlzV2hvbGVEYXkoKQogICAgewogICAg
ICAgIGlmIChpc3NldCgkdGhpcy0+ZGF0YVsneC1taWNyb3NvZnQtY2RvLWFsbGRheWV2ZW50
J10pICYmCiAgICAgICAgICAgIHN0cnRvbG93ZXIoJHRoaXMtPmRhdGFbJ3gtbWljcm9zb2Z0
LWNkby1hbGxkYXlldmVudCddKSA9PT0gJ3RydWUnKSB7CiAgICAgICAgICAgICRyZXN1bHQg
PSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRkdXIgPSAkdGhpcy0+Z2V0
RHVyYXRpb24oKTsKICAgICAgICAgICAgaWYgKCRkdXIgPiAwICYmICgkZHVyICUgODY0MDAp
ID09IDApIHsKICAgICAgICAgICAgICAgICRyZXN1bHQgPSB0cnVlOwogICAgICAgICAgICB9
IGVsc2UgewogICAgICAgICAgICAgICAgJHJlc3VsdCA9IGZhbHNlOwogICAgICAgICAgICB9
CiAgICAgICAgfQogICAgICAgIHJldHVybiAkcmVzdWx0OwogICAgfQoKICAgIC8qKgogICAg
ICogUmV0dXJucyB0aGUgdGltZXN0YW1wIGZvciB0aGUgYmVnaW5uaW5nIG9mIHRoZSBldmVu
dAogICAgICogQHJldHVybiBpbnQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldFN0
YXJ0KCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnN0YXJ0OwogICAgfQoKICAgIC8q
KgogICAgICogUmV0dXJucyB0aGUgdGltZXN0YW1wIGZvciB0aGUgZW5kIG9mIHRoZSBldmVu
dAogICAgICogQHJldHVybiBpbnQKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldEVu
ZCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5lbmQ7CiAgICB9CgogICAgLyoqCiAg
ICAgKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgZm9yIHRoZSBlbmQgb2YgdGhlIGxhc3QgZXZl
bnQKICAgICAqIEByZXR1cm4gaW50CiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRS
YW5nZUVuZCgpCiAgICB7CiAgICAgICAgcmV0dXJuIG1heCgkdGhpcy0+ZW5kLCR0aGlzLT5s
YXN0ZW5kKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGR1cmF0aW9uIG9m
IHRoaXMgZXZlbnQgaW4gc2Vjb25kcwogICAgICogQHJldHVybiBpbnQKICAgICAqLwogICAg
cHVibGljIGZ1bmN0aW9uIGdldER1cmF0aW9uKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRo
aXMtPmVuZCAtICR0aGlzLT5zdGFydDsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMg
dGhlIGdpdmVuIHByb3BlcnR5IG9mIHRoZSBldmVudC4KICAgICAqIEBwYXJhbSAgc3RyaW5n
ICRwcm9wCiAgICAgKiBAcmV0dXJuIHN0cmluZwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rp
b24gZ2V0UHJvcGVydHkoICRwcm9wICkKICAgIHsKICAgICAgICBpZiAoIGlzc2V0KCR0aGlz
LT4kcHJvcCkgKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+JHByb3A7CiAgICAgICAg
fSBlbHNlaWYgKCBpc3NldCgkdGhpcy0+ZGF0YVskcHJvcF0pICkgewogICAgICAgICAgICBy
ZXR1cm4gJHRoaXMtPmRhdGFbJHByb3BdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAg
IHJldHVybiBudWxsOwogICAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIFNldCBkZWZh
dWx0IHRpbWV6b25lICh0ZW1wb3JhcnkpIHRvIGdldCB0aW1lc3RhbXBzCiAgICAgKiBAcmV0
dXJuIHN0cmluZwogICAgICovCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gc2V0TGluZVRpbWVa
b25lKCBMaW5lICRsaW5lICkKICAgIHsKICAgICAgICBpZiAoIGlzc2V0KCRsaW5lWyd0emlk
J10pICkgewogICAgICAgICAgICBpZiAoIWlzc2V0KCR0aGlzLT5wcmV2aW91c190eikpIHsK
ICAgICAgICAgICAgICAgICR0aGlzLT5wcmV2aW91c190eiA9IEAgZGF0ZV9kZWZhdWx0X3Rp
bWV6b25lX2dldCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR0aGlzLT50emlkID0g
JGxpbmVbJ3R6aWQnXTsKICAgICAgICAgICAgZGF0ZV9kZWZhdWx0X3RpbWV6b25lX3NldCgk
dGhpcy0+dHppZCk7CgogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAg
ICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICAvKioKICAgICAqIENhbGN1bGF0ZXMgdGhl
IHRpbWVzdGFtcCBmcm9tIGEgRFQgbGluZS4KICAgICAqIEBwYXJhbSAkbGluZSBMaW5lCiAg
ICAgKiBAcmV0dXJuIGludAogICAgICovCiAgICBwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0VGlt
ZXN0YW1wKCBMaW5lICRsaW5lLCBJQ2FsICRpY2FsICkKICAgIHsKICAgICAgICBpZiAoIGlz
c2V0KCRsaW5lWyd0emlkJ10pICkgewogICAgICAgICAgICAkdGhpcy0+c2V0TGluZVRpbWVa
b25lKCRsaW5lKTsKICAgICAgICAgICAgLy8kdHogPSAkaWNhbC0+Z2V0VGltZVpvbmVJbmZv
KCRsaW5lWyd0emlkJ10pOwogICAgICAgICAgICAvLyRvZmZzZXQgPSAkdHotPmdldE9mZnNl
dCgkdHMpOwogICAgICAgICAgICAvLyR0cyA9IHN0cnRvdGltZShkYXRlKCdELCBkIE0gWSBI
Omk6cycsICR0cykgLiAnICcgLiAkb2Zmc2V0KTsKICAgICAgICB9CiAgICAgICAgJHRzID0g
c3RydG90aW1lKCRsaW5lLT5nZXREYXRhKCkpOwoKICAgICAgICByZXR1cm4gJHRzOwogICAg
fQp9CgovLyBuYW1lc3BhY2UgVEtyXElDYWw7Ci8vIHVzZSBEYXRlVGltZTsKLy8gdXNlIERh
dGVUaW1lWm9uZTsKCi8qKgogKiBUaGUgd3JhcHBlciBmb3IgdnRpbWV6b25lcy4gU3RvcmVz
IHRoZSB0aW1lem9uZS1pZCBhbmQgdGhlIHNldHVwIGZvcgogKiBkYXlsaWdodCBzYXZpbmdz
IGFuZCBzdGFuZGFyZCB0aW1lLgogKgogKiBAYXV0aG9yIE1vcnRlbiBGYW5nZWwgKEMpIDIw
MDgKICogQGF1dGhvciBNaWNoYWVsIEthaG4gKEMpIDIwMTMKICogQGxpY2Vuc2UgaHR0cDov
L2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnktc2EvMi41L2RrL2RlZWQuZW5fR0Ig
Q0MtQlktU0EtREsKICovCmNsYXNzIFZUaW1lWm9uZQp7CiAgICBwcm90ZWN0ZWQgJHR6aWQ7
CiAgICBwcm90ZWN0ZWQgJGRheWxpZ2h0OwogICAgcHJvdGVjdGVkICRzdGFuZGFyZDsKICAg
IHByb3RlY3RlZCAkY2FjaGUgPSBhcnJheSgpOwoKICAgIC8qKgogICAgICogQ29uc3RydWN0
cyBhIG5ldyBpbnRvdWNoXGljYWxcVlRpbWVab25lCiAgICAgKi8KICAgIHB1YmxpYyBmdW5j
dGlvbiBfX2NvbnN0cnVjdCggJGRhdGEgKQogICAgewogICAgICAgICR0aGlzLT50emlkID0g
JGRhdGFbJ3R6aWQnXTsKICAgICAgICAkdGhpcy0+ZGF5bGlnaHQgPSAkZGF0YVsnZGF5bGln
aHQnXTsKICAgICAgICAkdGhpcy0+c3RhbmRhcmQgPSAkZGF0YVsnc3RhbmRhcmQnXTsKICAg
IH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHRpbWV6b25lLWlkIGZvciB0aGlzIHRp
bWV6b25lLiAoVXNlZCB0bwogICAgICogZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGRpZmZlcmVu
dCB0enMgaW4gYSBjYWxlbmRhcikKICAgICAqIEByZXR1cm4gc3RyaW5nCiAgICAgKi8KICAg
IHB1YmxpYyBmdW5jdGlvbiBnZXRUaW1lWm9uZUlkKCkKICAgIHsKICAgICAgICByZXR1cm4g
JHRoaXMtPnR6aWQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBnaXZlbiBv
ZmZzZXQgaW4gdGhpcyB0aW1lem9uZSBmb3IgdGhlIGdpdmVuCiAgICAgKiB0aW1lc3RhbXAu
IChlZyArMDIwMCkKICAgICAqIEBwYXJhbSAgaW50ICAgICR0cwogICAgICogQHJldHVybiBz
dHJpbmcKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldE9mZnNldCggJHRzICkKICAg
IHsKICAgICAgICAkYWN0ID0gJHRoaXMtPmdldEFjdGl2ZSgkdHMpOwoKICAgICAgICByZXR1
cm4gJHRoaXMtPnskYWN0fVsndHpvZmZzZXR0byddOwogICAgfQoKICAgIC8qKgogICAgICog
UmV0dXJucyB0aGUgdGltZXpvbmUgbmFtZSBmb3IgdGhlIGdpdmVuIHRpbWVzdGFtcCAoZWcg
Q0VTVCkKICAgICAqIEBwYXJhbSAgaW50ICAgICR0cwogICAgICogQHJldHVybiBzdHJpbmcK
ICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIGdldFRpbWVab25lTmFtZSgkdHMpCiAgICB7
CiAgICAgICAgJGFjdCA9ICR0aGlzLT5nZXRBY3RpdmUoJHRzKTsKCiAgICAgICAgcmV0dXJu
ICR0aGlzLT57JGFjdH1bJ3R6bmFtZSddOwogICAgfQoKICAgIC8qKgogICAgICogRGV0ZXJt
aW5lcyB3aGljaCBvZiB0aGUgZGF5bGlnaHQgb3Igc3RhbmRhcmQgaXMgdGhlIGFjdGl2ZQog
ICAgICogc2V0dGluZy4KICAgICAqIFRoZSBjYWxsIGlzIGNhY2hlZCBmb3IgYSBnaXZlbiB0
aW1lc3RhbXAsIHNvIGEgY2FsbCB0bwogICAgICogZ2V0T2Zmc2V0IGFuZCBnZXRUaW1lWm9u
ZU5hbWUgd2l0aCB0aGUgc2FtZSB0cyB3b24ndCBjYWxjdWxhdGUKICAgICAqIHRoZSBhbnN3
ZXIgdHdpY2UuCiAgICAgKiBAcGFyYW0gIGludCAgICAkdHMKICAgICAqIEByZXR1cm4gc3Ry
aW5nIHN0YW5kYXJkfGRheWxpZ2h0CiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gZ2V0
QWN0aXZlKCAkdHMgKQogICAgewogICAgICAgIGlmIChjbGFzc19leGlzdHMoJ0RhdGVUaW1l
Wm9uZScpKSB7CgogICAgICAgICAgICAvL1BIUCA+PSA1LjIKICAgICAgICAgICAgJHR6ID0g
bmV3IERhdGVUaW1lWm9uZSggJHRoaXMtPnR6aWQgKTsKICAgICAgICAgICAgJGRhdGUgPSBu
ZXcgRGF0ZVRpbWUoIkAkdHMiLCAkdHopOwoKICAgICAgICAgICAgcmV0dXJuICgkZGF0ZS0+
Zm9ybWF0KCdJJykgPT0gMSkgPyAnZGF5bGlnaHQnIDogJ3N0YW5kYXJkJzsKCiAgICAgICAg
fSBlbHNlIHsKCiAgICAgICAgICAgIGlmICggaXNzZXQoJHRoaXMtPmNhY2hlWyR0c10pICkg
ewogICAgICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5jYWNoZVskdHNdOwogICAgICAgICAg
ICB9CgogICAgICAgICAgICAkZGF5bGlnaHRfZnJlcSA9IG5ldyBGcmVxKCR0aGlzLT5kYXls
aWdodFsncnJ1bGUnXSwgc3RydG90aW1lKCR0aGlzLT5kYXlsaWdodFsnZHRzdGFydCddKSk7
CiAgICAgICAgICAgICRzdGFuZGFyZF9mcmVxID0gbmV3IEZyZXEoJHRoaXMtPnN0YW5kYXJk
WydycnVsZSddLCBzdHJ0b3RpbWUoJHRoaXMtPnN0YW5kYXJkWydkdHN0YXJ0J10pKTsKICAg
ICAgICAgICAgJGxhc3Rfc3RhbmRhcmQgPSAkc3RhbmRhcmRfZnJlcS0+cHJldmlvdXNPY2N1
cnJlbmNlKCR0cyk7CiAgICAgICAgICAgICRsYXN0X2RzdCA9ICRkYXlsaWdodF9mcmVxLT5w
cmV2aW91c09jY3VycmVuY2UoJHRzKTsKICAgICAgICAgICAgaWYgKCRsYXN0X2RzdCA+ICRs
YXN0X3N0YW5kYXJkKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+Y2FjaGVbJHRzXSA9ICdk
YXlsaWdodCc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+
Y2FjaGVbJHRzXSA9ICdzdGFuZGFyZCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJl
dHVybiAkdGhpcy0+Y2FjaGVbJHRzXTsKICAgICAgICB9CiAgICB9Cn0KIjtzOjQ6InR5cGUi
O3M6MToiMCI7czo1OiJvcmRlciI7czoxOiI1IjtzOjU6ImZsYWdzIjtzOjE6IjAiO3M6ODoi
dGV4dHBhY2siO3M6MDoiIjtzOjE1OiJhbGxvd19odG1sX2hlbHAiO2k6MDtzOjg6ImhlbHBf
cmF3IjtzOjc1MTY6IgpoMS4gbWthX2ljYWwgLSBIZWxwCgpoMy4gRGlzcGxheSBpY2FsIGNh
bGVuZGFycyBhcyBldmVudCBsaXN0cwoKbWthX2ljYWwgaXMgYSBUZXh0cGF0dGVybiBwbHVn
aW4gZm9yIGRpc3BsYXlpbmcgZXZlbnRzIGZyb20gYW4gaUNhbCBVUkwgKGUuZy4gR29vZ2xl
IENhbGVuZGFyKSBvciBpY3MgZmlsZSB1c2luZyBhIHN0YW5kYXJkIG9yIHVzZXItZGVmaW5h
YmxlIHRlbXBsYXRlLgoKSXQncyBhbHNvIHBvc3NpYmxlIHRvIHNwZWNpZnkgYSBmb2xkZXIg
b3IgYSBUZXh0cGF0dGVybiBjYXRlZ29yeSBmb3IgaW1hZ2VzIHJlZmVyZW5jZWQgaW4gdGhl
IGZlZWQuIFRoZSBpbWFnZSBpcyBkcmF3biBmcm9tIHRoZSB0aXRsZSBvZiB0aGUgZXZlbnQg
YW5kIHRoZSBuYW1lIG9mIHRoZSBpbWFnZS4KCgpoMi4gVGFncwoKaDMuIFRhZzogbWthX2lj
YWwKCkluc2VydHMgYSBwdWJsaWMgY2FsZW5kYXIgZnJvbSBhbiBpY3MgdXJsIG9yIGZpbGUs
IG9yIGEgZ29vZ2xlbWFpbCBhY2NvdW50LiBDYW4gYmUgdXNlZCBhcyBhIHN0YW5kYWxvbmUg
b3IgYXMgYSBjb250YWluZXIgdGFnLgoKVGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzIGFyZSBh
dmFpbGFibGU6CgoqdXJsKiAoc3RyaW5nLCBkZWZhdWx0OiAiIiwgcmVxdWlyZWQpClVybCBv
ZiB0aGUgSUNTIGZpbGUKCipnb29nbGVtYWlsKgpHb29nbGVNYWlsIGFkZHJlc3MuIFRoZSB1
c2VyJ3MgcHVibGljIGdvb2dsZSBjYWxlbmRhciB3aWxsIGF1dG9tYXRpY2FsbHkgYmUgcmVm
ZXJlbmNlZC4KCipsaW1pdCogKGludCwgZGVmYXVsdDogQDBALCBvcHRpb25hbCkKRGVmaW5l
cyBob3cgbWFueSBldmVudHMgYXJlIHNob3duLiBEZWZhdWx0cyB0byAwICg9IGFsbCkKCipw
YXN0ZXZlbnRzKiAoYm9vbGVhbiwgZGVmYXVsdDogQEZBTFNFQCwgb3B0aW9uYWwpCkRpc3Bs
YXkgcGFzdCBldmVudHMKCipodG1sX2lkKiAoc3RyaW5nLCBkZWZhdWx0OiBAaWNhbGV2ZW50
c0AsIG9wdGlvbmFsKQpTZXRzIHRoZSBodG1sIGlkIGZvciB0aGUgZXZlbnQgbGlzdAoKKmNs
YXNzKgpTZXRzIHRoZSBDU1MgY2xhc3MgZm9yIHRoZSBldmVudCBsaXN0CgoqZGV0YWlscyog
KGJvb2xlYW4sIGRlZmF1bHQ6IEBUUlVFQCwgb3B0aW9uYWwpCkRpc3BsYXkgdGhlIGRldGFp
bHMKCipjYWNoaW5ndGltZSogKGludCwgZGVmYXVsdDogQDMwQCAobWludXRlcyksIG9wdGlv
bmFsKQpEdXJhdGlvbiB0aGF0IGxvY2FsIGNhY2hlIGZpbGUgcGVyc2lzdHMKCipmb3JtKiAo
c3RyaW5nLCBkZWZhdWx0OiBub25lLCBvcHRpb25hbCkKTmFtZSBvZiB0eHAgZm9ybSB0byB1
c2UgdG8gZm9ybWF0IGVhY2ggZXZlbnQgaXRlbQoKKmZtdHRpbWUqIChzdHJpbmcsIGRlZmF1
bHQ6IEAlSDolTUAsIG9wdGlvbmFsKQpGb3JtYXQgc3RyaW5nIGZvciB0aGUgdGltZQoKKmZt
dGRhdGUqIChzdHJpbmcsIGRlZmF1bHQ6IEAlZC4lbS4lWUAsIG9wdGlvbmFsKQpGb3JtYXQg
c3RyaW5nIGZvciB0aGUgZGF0ZQoKKmltZyogKGJvb2xlYW4sIGRlZmF1bHQ6IEBGQUxTRUAp
CkRpc3BsYXkgYW4gaW1hZ2UgZm9yIGVhY2ggZGF0ZSAocmVxdWlyZXMgZm9sbG93aW5nIGF0
dHJpYnV0ZXMpCgoqaW1nZm9sZGVyKiAoc3RyaW5nLCBkZWZhdWx0OiBAaW1hZ2VzQCwgb3B0
aW9uYWwpCkltYWdlIGZvbGRlcgoKKmRlZmF1bHRpbWcqIChzdHJpbmcsIGRlZmF1bHQ6IEBu
b25lLmdpZkAsIG9wdGlvbmFsKQpEZWZhdWx0IGltYWdlCgoKaDMuIFRhZzogbWthX2lmX2Zp
cnN0X2V2ZW50CgpVc2UgYXMgYSBjb250YWluZXIgdGFnLiBUaGUgdGFnIHdpbGwgZXhlY3V0
ZSB0aGUgY29udGFpbmVkIHN0YXRlbWVudHMgaWYgdGhlIGRpc3BsYXllZCBldmVudCBpcyB0
aGUgX2ZpcnN0XyBpbiB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBjYWxlbmRhci4KCgpoMy4g
VGFnOiBta2FfaWZfbGFzdF9ldmVudAoKVXNlIGFzIGEgY29udGFpbmVyIHRhZy4gVGhlIHRh
ZyB3aWxsIGV4ZWN1dGUgdGhlIGNvbnRhaW5lZCBzdGF0ZW1lbnRzIGlmIHRoZSBkaXNwbGF5
ZWQgZXZlbnQgaXMgdGhlIF9sYXN0XyBpbiB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBjYWxl
bmRhci4KCgpoMy4gVGFnOiBta2FfaWZfZGlmZmVyZW50CgpVc2UgYXMgYSBjb250YWluZXIg
dGFnLiBUaGUgdGFnIHdpbGwgZXhlY3V0ZSB0aGUgY29udGFpbmVkIHN0YXRlbWVudHMgd2hl
biB0aGUgdmFsdWUgb2YgdGhlIGNvbnRhaW5lZCBzdGF0ZW1lbnQgZGlmZmVycyBmcm9tIHRo
ZSBwcmVjZWRpbmcgdmFsdWUgZm9yIHRoYXQgY29udGFpbmVkIHN0YXRlbWVudC4KCklmIGFk
ZGl0aW9uYWxseSBwcm9jZXNzaW5nIHRoZSBAe3BsYWNlaG9sZGVyfUAgdmFsdWVzLCBlLmcu
IHdpdGggbWthX2Zvcm1hdF9kYXRlLCBzZXQgdGhlIEBrZXlAIGF0dHJpYnV0ZSB0byBhIG5h
bWUgb2YgeW91ciBjaG9vc2luZy4gU2VlIEV4YW1wbGXCoDQuCgpBdHRyaWJ1dGU6Cgoqa2V5
KiAoc3RyaW5nLCBkZWZhdWx0OiBlbXB0eSwgb3B0aW9uYWwpCkEgbmFtZSBmb3IgeW91ciBp
Zl9kaWZmZXJlbnQgaW5zdGFuY2UuCgoKaDMuIFRhZzogbWthX2Zvcm1hdF9kYXRlCgpVc2Ug
YXMgYSBjb250YWluZXIgdGFnIGFyb3VuZCBhbiBleGlzdGluZyBkYXRlLCB0aW1lIG9yIGRh
dGV0aW1lIHBsYWNlaG9sZGVyLiBUaGUgdGFnIHdpbGwgcmVmb3JtYXQgdGhlIGRhdGUgb3Ig
dGltZSBvdXRwdXQgYWNjb3JkaW5nIHRvIGEgc3BlY2lmaWVkIGZvcm1hdC4gCgpBdHRyaWJ1
dGU6CgoqZm9ybWF0KiAoZGF0ZSBwYXJhbWV0ZXIsIGRlZmF1bHQ6IGVtcHR5KQpVc2UgdGhl
IGRhdGUgZm9ybWF0dGluZyBwYXJhbWV0ZXJzIG9mICJzdHJmdGltZSI6aHR0cDovL3BocC5u
ZXQvbWFudWFsL2VuL2Z1bmN0aW9uLnN0cmZ0aW1lLnBocCB0byBkZWZpbmUgdGhlIGRhdGUg
YW5kL29yIHRpbWUgZm9ybWF0LgoKX05vdGU6IFRoZSBAZm10ZGF0ZUAgYW5kIEBmbXR0aW1l
QCBhdHRyaWJ1dGVzIG9mIEBta2FfaWNhbEAgY29udHJvbCBob3cgdGhlIHBsYWNlaG9sZGVy
cyBAe3N0YXJ0X2RhdGV9QCwgQHtlbmRfZGF0ZX1AIGFuZCBAe3N0YXJ0X3RpbWV9QCBhbmQg
QHtlbmR0aW1lfUAgYXJlIGZvcm1hdHRlZCBmb3IgdGhlIGVudGlyZSBjYWxlbmRhci4gVGhp
cyB0YWcgYWxsb3dzIHlvdSB0byBvdmVycmlkZSB0aGUgZGF0ZSBvciB0aW1lIGZvcm1hdC5f
CgoKaDIuIFBsYWNlaG9sZGVyIHZhcmlhYmxlcwoKOyBAe2RhdGV9QAo6IERhdGUgKGZvcm1h
dCBhY2NvcmRpbmcgdG8gImZtdGRhdGUiIGFuZCAiZm10dGltZSIgYXR0cmlidXRlcykKOyBA
e3N0YXJ0X2RhdGV0aW1lfUAKOiBTdGFydCBkYXRldGltZSBpbiBAJVktJW0tJWQgJUg6JU1A
IGZvcm1hdAo7IEB7c3RhcnRfZGF0ZX1ACjogU3RhcnQgZGF0ZSAoZm9ybWF0IGFjY29yZGlu
ZyB0byAiZm10ZGF0ZSIgYXR0cmlidXRlKQo7IEB7c3RhcnRfdGltZX1ACjogU3RhcnQgdGlt
ZSAoZm9ybWF0IGFjY29yZGluZyB0byAiZm10dGltZSIgYXR0cmlidXRlKQo7IEB7ZW5kX2Rh
dGV0aW1lfUAKOiBFbmQgZGF0ZXRpbWUgaW4gQCVZLSVtLSVkICVIOiVNQCBmb3JtYXQKOyBA
e2VuZF9kYXRlfUAKOiBFbmQgZGF0ZSAoZm9ybWF0IGFjY29yZGluZyB0byAiZm10ZGF0ZSIg
YXR0cmlidXRlKQo7IEB7ZW5kX3RpbWV9QAo6IEVuZCB0aW1lIChmb3JtYXQgYWNjb3JkaW5n
IHRvICJmbXR0aW1lIiBhdHRyaWJ1dGUpCjsgQHtkdXJhdGlvbn1ACjogRHVyYXRpb24gKGZv
cm1hdHRlZCBhcyBkYXlzOmhvdXJzOm1pbnV0ZXM6c2Vjb25kcykKOyBAe3RpdGxlfUAKOiBU
aXRsZSAoaWNzIHN1bW1hcnkgZW50cnkpCjsgQHtkZXNjcmlwdGlvbn1ACjogRGVzY3JpcHRp
b24KOyBAe2xvY2F0aW9ufUAKOiBMb2NhdGlvbi92ZW51ZQo7IEB7dWlkfUAKOiBFdmVudCB1
bmlxdWUgSUQKOyBAe2ltYWdlc3JjfUAKOiBMaW5rIHRvIGltYWdlCjsgQHtpbWFnZWlkfUAK
OiBJRCMgb2YgaW1hZ2UgKHdoZW4gdXNpbmcgaW1hZ2VzIGZyb20gY2F0ZWdvcmllcykKCgpo
Mi4gRXhhbXBsZXMKCgpoMy4gRXhhbXBsZSAxICh1c2luZyBhIHB1YmxpYyBHb29nbGUgQ2Fs
ZW5kYXIpCgpiYy4gPHR4cDpta2FfaWNhbCBnb29nbGVtYWlsPSJZT1VSQUREUkVTU05BTUVA
Z29vZ2xlbWFpbC5jb20iIC8+CgoqICpnb29nbGVtYWlsKjogWW91ciBHb29nbGVNYWlsIGFk
ZHJlc3Mgb3IgbmFtZS4KCgpoMy4gRXhhbXBsZSAyICh1c2luZyBhIGN1c3RvbSB1cmwgYW5k
IGFkZGl0aW9uYWwgb3B0aW9ucykKCmJjLiA8dHhwOm1rYV9pY2FsIHVybD0iaHR0cHM6Ly9k
b21haW4uY29tL3VybC1vZi1pY3MtZmlsZS9jYWxlbmRhci5pY3MiCiAgICBwYXN0ZXZlbnRz
PSIxIiBpbWc9IjEiIGltZ2ZvbGRlcj0iaW1hZ2VzL2V2ZW50cy8iIGRlZmF1bHRpbWc9Im5v
bmUuZ2lmIiAvPgoKKiAqdXJsKjogVVJMIG9mIGEgY2FsZW5kYXIgZmlsZQoqICpwYXN0ZXZl
bnRzKjogWzAsMV0gU2hvdyBwYXN0IGV2ZW50cz8KKiAqbGltaXQqOiBbMCwxLDIsMyw0LOKA
pl0gU2hvdyBvbmx5IFggZXZlbnRzCiogKmltZyo6IFswLDFdIFNob3cgaW1hZ2VzPwoqICpp
bWdmb2xkZXIqOiBXaGVyZSBhcmUgdGhlIGltYWdlcz8KKiAqZGVmYXVsdGltZyo6IE5hbWUg
b2YgdGhlIGRlZmF1bHQgaW1hZ2UKCgpoMy4gRXhhbXBsZSAzIChta2FfaWNhbCBhcyBhIGNv
bnRhaW5lciB0YWcpCgpiYy4uIDx0eHA6bWthX2ljYWwgd3JhcHRhZz0iIiBicmVhaz0iIgog
ICAgZ29vZ2xlbWFpbD0iWU9VUkFERFJFU1NOQU1FQGdvb2dsZW1haWwuY29tIj4KICAgIDxk
aXYgY2xhc3M9ImgtZXZlbnQiPiA8IS0tIG1pY3JvZGF0YSBoLWV2ZW50IC0tPgogICAgPGgx
IGNsYXNzPSJwLW5hbWUiPnt0aXRsZX08L2gxPgogICAgPHAgY2xhc3M9ImgtZXZlbnRfX21l
dGEiPgogICAgRnJvbSA8dGltZSBjbGFzcz0iZHQtc3RhcnQiIGRhdGV0aW1lPSJ7c3RhcnRf
ZGF0ZXRpbWV9Ij57c3RhcnRfZGF0ZX0ge3N0YXJ0X3RpbWV9PC90aW1lPgogICAgICAgIHRv
IDx0aW1lIGNsYXNzPSJkdC1lbmQiIGRhdGV0aW1lPSJ7ZW5kX2RhdGV0aW1lfSI+e2VuZF90
aW1lfTwvdGltZT4KICAgICAgICBhdCA8c3BhbiBjbGFzcz0icC1sb2NhdGlvbiI+e2xvY2F0
aW9ufTwvc3Bhbj4KICAgIDwvcD4KICAgIDxpbWcgY2xhc3M9ImV2ZW50LWltZyIgc3JjPSJ7
aW1hZ2VzcmN9IiBib3JkZXI9IjAiIGFsaWduPSJsZWZ0Ij4KICAgIDxwIGNsYXNzPSJwLXN1
bW1hcnkiPntkZXNjcmlwdGlvbn08L3A+CiAgICA8YSBjbGFzcz0idS11cmwiIGhyZWY9Intl
dmVudF91cmx9Ij5Nb3JlIGluZm9ybWF0aW9uPC9hPgogICAgPC9kaXY+CjwvdHhwOm1rYV9p
Y2FsPgoKaDMuIEV4YW1wbGUgNCAo4oCcTW9udGggeWVhcuKAnSBoZWFkaW5ncyB1c2luZyBt
a2FfaWZfZGlmZmVyZW50IGFuZCBta2FfZm9ybWF0X2RhdGUpCgpiYy4uIDx0eHA6bWthX2lj
YWwgdXJsPSJjYWxlbmRhci5pY3MiIHdyYXB0YWc9IiIgYnJlYWs9IiI+CiAgICA8dHhwOm1r
YV9pZl9kaWZmZXJlbnQga2V5PSJtb250aF95ZWFyIj48aDI+PHR4cDpta2FfZm9ybWF0X2Rh
dGUgZm9ybWF0PSIlQiAlWSI+e3N0YXJ0X2RhdGV9PC90eHA6bWthX2Zvcm1hdF9kYXRlPjwv
aDI+PC90eHA6bWthX2lmX2RpZmZlcmVudD4KICAgIDxkaXYgY2xhc3M9ImgtZXZlbnQiPgog
ICAgICAgIDxwIGNsYXNzPSJoLWV2ZW50X19tZXRhIj4KICAgICAgICAgICAgPHRpbWUgY2xh
c3M9ImR0LXN0YXJ0IiBkYXRldGltZT0ie3N0YXJ0X2RhdGV0aW1lfSI+e3N0YXJ0X2RhdGV9
PC90aW1lPiDigJMKICAgICAgICAgICAgPHRpbWUgY2xhc3M9ImR0LWVuZCIgZGF0ZXRpbWU9
IntlbmRfZGF0ZXRpbWV9Ij57ZW5kX3RpbWV9PC90aW1lPiwKICAgICAgICAgICAgPHNwYW4g
Y2xhc3M9InAtbG9jYXRpb24iPntsb2NhdGlvbn08L3NwYW4+CiAgICAgICAgPC9wPgogICAg
ICAgIDx0eHA6ZXZhbHVhdGUgd3JhcHRhZz0icCIgY2xhc3M9ImRlc2NyaXB0aW9uIj57ZGVz
Y3JpcHRpb259PC90eHA6ZXZhbHVhdGU+CiAgICA8L2Rpdj4KPC90eHA6bWthX2ljYWw+CgoK
aDMuIFN0YW5kYXJkIG91dHB1dAoKYmMuLiA8c3BhbiBjbGFzcz0iZGF0ZSI+e2RhdGV9PC9z
cGFuPgo8c3BhbiBjbGFzcz0idGl0bGUiPnt0aXRsZX08L3NwYW4+CjxzcGFuIGNsYXNzPSJk
ZXNjcmlwdGlvbiI+e2Rlc2NyaXB0aW9ufTwvc3Bhbj4KCgpoMi4gQ2hhbmdlbG9nCgoqICow
LjcuMCog4oCTIFRleHRwYXR0ZXJuIHY0LjcgYW5kIHBocCA3IGNvbXBhdGliaWxpdHkgKGpv
b2xzLXIpCioqIFBsdWdpbiBjbGVhbnVwIGFuZCByZWNvbmZpZ3VyYXRpb24gZm9yIHJhaF9i
bG9iaW4vcGx1Z2luIGNvbXBpbGVyCioqIEluY2x1c2lvbiBvZiB1cGRhdGVkIGljYWwgcGFy
c2VyIGxpYnJhcnkgKHBocDUuNisgY29tcGF0aWJpbGl0eSkgaW4gcGx1Z2luCioqIFVwZGF0
ZWQgZ29vZ2xlIGNhbGVuZGFyIFVSTAoqKiBOZXcgJ21rYV9pZl9maXJzdF9ldmVudCcgdGFn
CioqIE5ldyAnbWthX2lmX2xhc3RfZXZlbnQnIHRhZwoqKiBOZXcgJ21rYV9pZl9kaWZmZXJl
bnQnIHRhZwoqKiBOZXcgJ21rYV9mb3JtYXRfZGF0ZScgdGFnCioqIFRhZyByZWdpc3RyYXRp
b24gZm9yIFR4cCA0LjYrCioqIFVwZGF0ZWQgaGVscAoqKiBBZGRpdGlvbmFsIHJlcGxhY2Vt
ZW50IHBsYWNlaG9sZGVycwoqKiBBdHRyaWJ1dGUgJ2Nzc2lkJyByZW5hbWVkIHRvICdodG1s
X2lkJyBpbiBsaW5lIHdpdGggb3RoZXIgdHhwIHRhZ3MgKGNzc2lkIHN0aWxsIGFjY2VwdGVk
IGZvciBub3cpCioqIE5ldyAnZ29vZ2xlbWFpbGRvbWFpbicgYXR0cmlidXRlIGlmIHVzaW5n
IGp1c3QgZ29vZ2xlIHVzZXJuYW1lIGJ1dCBuZWVkIHRvIHVzZSAnZ21haWwnIHJhdGhlciB0
aGFuICdnb29nbGVtYWlsJyAoZGVmYXVsdCBzZXR0aW5nKQoqKiBDYWNoZWQganNvbiBmaWxl
IG5vdyBsb2NhdGVkIGluIC90bXAgZm9sZGVyIChhcyBkZWZpbmVkIGluIHByZWZzKSwgbm90
IC9maWxlcwoqICowLjYuMyog4oCTIERlYnVnIGRldGFpbHMgcmVtb3ZlZCAoTWFydGluIEtv
emlhbmthKQoqICowLjYuMiogLSBPdXRwdXQgdGhlIGRhdGUgd2l0aCAqc3RyZnRpbWUqLiBS
ZXNvbHZlOiBlcnJvciB3aGVuIGRpc3BsYXlpbmcgd2l0aG91dCBpbWFnZSAoTWFydGluIEtv
emlhbmthKQoqICowLjYuMSog4oCTIEZpcnN0IHB1YmxpYyB2ZXJzaW9uIChNYXJ0aW4gS296
aWFua2EpCgoKaDIuIENyZWRpdHMKClRoaXMgcGx1Z2luIHdhcyBvcmlnaW5hbGx5IHRoZSB3
b3JrIG9mIE1hcnRpbiBLb3ppYW5rYSAoImtvemlhbmthLmRlIjpodHRwczovL2tvemlhbmth
LmRlKSBhbmQgaGFzIHNpbmNlIGJlZW4gdXBkYXRlZCB0byB3b3JrIHdpdGggVGV4dHBhdHRl
cm4gNC43Ky4KCkl0IG1ha2VzIHVzZSBvZiB0aGUgSUNhbCBwYXJzaW5nIGxpYnJhcnkgIlRL
ci9pbnRvdWNoLWlDYWxlbmRhciI6aHR0cHM6Ly9naXRodWIuY29tL1RLci9pbnRvdWNoLWlD
YWxlbmRhciB3aGljaCBpcyBhIGZvcmsgb2YgImludG91Y2gtaUNhbGVuZGFyIjpodHRwczov
L2dpdGh1Yi5jb20vbWZrYWhuL2ludG91Y2gtaUNhbGVuZGFyIHdoaWNoIGlzIGluIHR1cm4g
YmFzZWQgb24gIlNHLWlDYWxlbmRhciI6aHR0cDovL3NldmVuZ29zbGluZ3MubmV0L2ljYWxl
bmRhciBieSBNb3J0ZW4gRmFuZ2VsLgoiO3M6MzoibWQ1IjtzOjMyOiI1ZTM4NDQxMzc3N2I2
MzM3Y2U2ZTM2ZWZmOGJmMGZlZCI7fQ==
